function m(b,a,c,d){b.l.xb(b.Bb,a,c,d)}function n(b,a,c,d){b.l.fa?m(b,a,c,d):b.l.sf()._OnMessageFromDOM({type:"event",component:b.Bb,handler:a,dispatchOpts:d||null,data:c,responseId:null})}function aa(b,a,c){b.l.B(b.Bb,a,c)}function p(b,a){for(const [c,d]of a)aa(b,c,d)}function v(b){b.hc||(b.l.Lc(b.ye),b.hc=!0)}window.Ga=class{constructor(b,a){this.l=b;this.Bb=a;this.hc=!1;this.ye=()=>this.Ya()}Gd(){}Ya(){}};
window.Dg=class{constructor(){this.vd=-1}j(){-1!==this.vd&&(self.clearTimeout(this.vd),this.vd=-1)}};"use strict";function ba(b,a){aa(b,"get-element",c=>{const d=w(b,c.elementId);return a(d,c)})}function w(b,a){b=b.cb.get(a);if(!b)throw Error(`no element with id ${a}`);return b.ec}
window.Cc=class extends self.Ga{constructor(b){super(b,"MixonGames_EasyInGameConsole");this.cb=new Map;this.zb=!0;p(this,[["create",()=>{throw Error("required override");}],["destroy",a=>{a=a.elementId;const c=w(this,a);this.zb&&c.parentElement.removeChild(c);this.cb.delete(a)}],["set-visible",a=>{if(this.zb){var c=this.cb.get(a.elementId),d=c.ec;c.he?d.style.display=a.isVisible?"":"none":c.Mf=!!a.isVisible}}],["update-position",a=>{if(this.zb){var c=this.cb.get(a.elementId),d=c.ec,e=this.l;d.style.left=
a.left+"px";d.style.top=a.top+"px";d.style.width=a.width+"px";d.style.height=a.height+"px";var f=a.fontSize;null!==f&&(d.style.fontSize=f+"em");f=a.htmlIndex;c.Sf=f;f=e.Ld(f);f!==c.Ma&&(d.remove(),e.Ec(f).appendChild(d),c.Ma=f,e.Xc());a=a.htmlZIndex;a!==c.ed&&(c.ed=a,e.Xc());c.he||(c.he=!0,c.Mf&&(d.style.display=""))}}],["update-state",a=>{w(this,a.elementId);throw Error("required override");}],["focus",a=>this.Uc(a)],["set-css-style",a=>{const c=w(this,a.elementId),d=a.prop;a=a.val;d.startsWith("--")?
c.style.setProperty(d,a):c.style[d]=a}],["set-attribute",a=>{w(this,a.elementId).setAttribute(a.name,a.val)}],["remove-attribute",a=>{w(this,a.elementId).removeAttribute(a.name)}]]);ba(this,a=>a)}gf(b,a,c){c||(c={});c.elementId=a;m(this,b,c)}Uc(b){var a=w(this,b.elementId);b.focus?a.focus():a.blur()}};"use strict";const ca=/(iphone|ipod|ipad|macos|macintosh|mac os x)/i.test(navigator.userAgent),x=/android/i.test(navigator.userAgent);let da=0;
function y(b){const a=document.createElement("script");a.async=!1;a.type="module";return b.ng?new Promise(c=>{const d="c3_resolve_"+da;++da;self[d]=c;a.textContent=b.vg+`\n\nself["${d}"]();`;document.head.appendChild(a)}):new Promise((c,d)=>{a.onload=c;a.onerror=d;a.src=b;document.head.appendChild(a)})}
async function ea(){if(!navigator.userActivation||"undefined"===typeof OffscreenCanvas)return!1;try{let b=!1;const a=new Worker(URL.createObjectURL(new Blob(['\n\tself.addEventListener("message", () =>\n\t{\n\t\ttry {\n\t\t\tconst offscreenCanvas = new OffscreenCanvas(32, 32);\n\t\t\tconst gl = offscreenCanvas.getContext("webgl");\n\t\t\tself.postMessage(!!gl);\n\t\t}\n\t\tcatch (err)\n\t\t{\n\t\t\tconsole.warn("Feature detection worker error:", err);\n\t\t\tself.postMessage(false);\n\t\t}\n\t});'],{type:"text/javascript"})),
{get type(){b=!0}}),c=await new Promise(d=>{a.addEventListener("message",e=>{a.terminate();d(e.data)});a.postMessage("")});return b&&c}catch(b){return console.warn("Error feature detecting worker mode: ",b),!1}}let z=new Audio;
const fa={"audio/webm; codecs=opus":!!z.canPlayType("audio/webm; codecs=opus"),"audio/ogg; codecs=opus":!!z.canPlayType("audio/ogg; codecs=opus"),"audio/webm; codecs=vorbis":!!z.canPlayType("audio/webm; codecs=vorbis"),"audio/ogg; codecs=vorbis":!!z.canPlayType("audio/ogg; codecs=vorbis"),"audio/mp4":!!z.canPlayType("audio/mp4"),"audio/mpeg":!!z.canPlayType("audio/mpeg")};z=null;async function ha(b){b=await ja(b);return(new TextDecoder("utf-8")).decode(b)}
function ja(b){return new Promise((a,c)=>{const d=new FileReader;d.onload=e=>a(e.target.result);d.onerror=e=>c(e);d.readAsArrayBuffer(b)})}const A=[];let C=0;window.RealFile=window.File;const E=[],F=new Map,G=new Map;let ka=0;const la=[];self.runOnStartup=function(b){if("function"!==typeof b)throw Error("runOnStartup called without a function");la.push(b)};const oa=new Set(["cordova","playable-ad","instant-games"]);let pa=!1;
window.ia=class b{constructor(a){this.fa=a.zg;this.Ba=null;this.ca="";this.mb=a.ug;this.Tb={};this.fb=this.ya=null;this.bb=[];this.pa=null;this.le=!0;this.N=[];this.pd=[];this.qd=!1;this.ze=()=>this.qf();this.gd=!1;this.ee=0;this.Ib=null;this.lb=-1;this.Qf=()=>this.Bf();this.Qb=new Set;this.xd=null;this.Ae=[];this.u=a.Be;this.ic="file"===location.protocol.substr(0,4);if("playable-ad"===this.u||"instant-games"===this.u)this.fa=!1;if("cordova"===this.u&&this.fa&&x){const c=/Chrome\/(\d+)/i.exec(navigator.userAgent);
c&&90<=parseInt(c[1],10)||(this.fa=!1)}this.ra()?self.chrome.webview.addEventListener("message",c=>this.Vd(c.data)):"macos-wkwebview"===this.u&&(self.C3WrapperOnMessage=c=>this.Vd(c));this.lc=this.va=null;"html5"!==this.u||window.isSecureContext||console.warn("[Construct] Warning: the browser indicates this is not a secure context. Some features may be unavailable. Use secure (HTTPS) hosting to ensure all features are available.");this.B("canvas","update-size",c=>this.Ff(c));this.B("canvas","set-html-layer-count",
c=>this._OnSetHTMLLayerCount(c));this.B("canvas","cleanup-html-layers",()=>this.wf());this.B("runtime","cordova-fetch-local-file",c=>this.xf(c));this.B("runtime","create-job-worker",()=>this.yf());this.B("runtime","send-wrapper-extension-message",c=>this.Ef(c));"cordova"===this.u?document.addEventListener("deviceready",()=>this.Yb(a)):this.Yb(a)}j(){this.Mc();this.Ba&&(this.Ba=this.Ba.onmessage=null);this.ya&&(this.ya.terminate(),this.ya=null);this.fb&&(this.fb.j(),this.fb=null);for(const {canvas:a,
pb:c}of this.N)a.remove(),c.remove();this.N.length=0}Md(){return this.N[0].canvas}Ld(a){return Math.min(a,this.N.length-1)}Ec(a){if(0>a||a>=this.N.length)throw new RangeError("invalid canvas layer");return this.N[a].pb}df(){return ca&&"cordova"===this.u}vb(){const a=navigator.userAgent;return ca&&oa.has(this.u)||navigator.standalone||/crios\/|fxios\/|edgios\//i.test(a)}bf(){return x}Nd(){return x&&oa.has(this.u)}Pd(){return"windows-webview2"===this.u||!!("preview"===this.u&&window.chrome&&window.chrome.webview&&
window.chrome.webview.postMessage)}ra(){return this.Pd()||"xbox-uwp-webview2"===this.u}async Yb(a){this.fa&&!await ea()&&(this.fa=!1);"macos-wkwebview"===this.u?this.Ka({type:"ready"}):this.ra()&&(this.Hf(),this.Ae=(await this.vf()).registeredComponentIds);if("playable-ad"===this.u){this.va=self.c3_base64files;this.lc={};await this.mf();for(let d=0,e=a.ob.length;d<e;++d){var c=a.ob[d];this.lc.hasOwnProperty(c)?a.ob[d]={ng:!0,vg:this.lc[c]}:this.va.hasOwnProperty(c)&&(a.ob[d]=URL.createObjectURL(this.va[c]))}a.zc=
[]}if("nwjs"===this.u&&self.nw&&self.nw.App.manifest["c3-steam-mode"]){let d=0;this.Lc(()=>{d++;document.body.style.opacity=0===d%2?"1":"0.999"})}a.tg?this.ca=a.tg:(c=location.origin,this.ca=("null"===c?"file:///":c)+location.pathname,c=this.ca.lastIndexOf("/"),-1!==c&&(this.ca=this.ca.substr(0,c+1)));a.Bg&&(this.Tb=a.Bg);c=new MessageChannel;this.Ba=c.port1;this.Ba.onmessage=d=>this._OnMessageFromRuntime(d.data);window.c3_addPortMessageHandler&&window.c3_addPortMessageHandler(d=>this.Af(d));this.Ib=
new self.ef(this);await qa(this.Ib);"object"===typeof window.StatusBar&&window.StatusBar.hide();if("object"===typeof window.AndroidFullScreen)try{await new Promise((d,e)=>{window.AndroidFullScreen.immersiveMode(d,e)})}catch(d){console.error("Failed to enter Android immersive mode: ",d)}this.fa?await this.uf(a,c.port2):await this.tf(a,c.port2)}Oc(a){a=this.Tb.hasOwnProperty(a)?this.Tb[a]:a.endsWith("/workermain.js")&&this.Tb.hasOwnProperty("workermain.js")?this.Tb["workermain.js"]:"playable-ad"===
this.u&&this.va.hasOwnProperty(a)?this.va[a]:a;a instanceof Blob&&(a=URL.createObjectURL(a));return a}async Bc(a,c,d){if(a.startsWith("blob:"))return new Worker(a,d);if("cordova"===this.u&&this.ic)return a=await this.Ub(d.mg?a:this.mb+a),new Worker(URL.createObjectURL(new Blob([a],{type:"application/javascript"})),d);a=new URL(a,c);if(location.origin!==a.origin){a=await fetch(a);if(!a.ok)throw Error("failed to fetch worker script");a=await a.blob();return new Worker(URL.createObjectURL(a),d)}return new Worker(a,
d)}sa(){return Math.max(window.innerWidth,1)}ja(){return Math.max(window.innerHeight,1)}Td(a){var c=this.ca,d=location.href,e=this.sa(),f=this.ja(),g=window.devicePixelRatio,h=b.ub(),k=a.Ig,l=window.cr_previewImageBlobs||this.va,q=window.cr_previewProjectFileBlobs,r=window.cr_previewProjectFiles,t=window.cr_swClientId||"";a=a.Be;var u=(new URLSearchParams(self.location.search)).has("debug"),B=this.Ib;return{runtimeBaseUrl:c,previewUrl:d,windowInnerWidth:e,windowInnerHeight:f,devicePixelRatio:g,isFullscreen:h,
projectData:k,previewImageBlobs:l,previewProjectFileBlobs:q,previewProjectFileSWUrls:r,swClientId:t,exportType:a,isDebug:u,ife:!!self.Hg,jobScheduler:{inputPort:B.fd,outputPort:B.od,maxNumWorkers:B.Nf},supportedAudioFormats:fa,opusWasmScriptUrl:window.cr_opusWasmScriptUrl||this.mb+"opus.wasm.js",opusWasmBinaryUrl:window.cr_opusWasmBinaryUrl||this.mb+"opus.wasm.wasm",isFileProtocol:this.ic,isiOSCordova:this.df(),isiOSWebView:this.vb(),isWindowsWebView2:this.Pd(),isAnyWebView2Wrapper:this.ra(),wrapperComponentIds:this.Ae,
isFBInstantAvailable:"undefined"!==typeof self.FBInstant}}async uf(a,c){const d=this.Oc(a.Ag);"preview"===this.u?(this.ya=new Worker("previewworker.js",{type:"module",name:"Runtime"}),await new Promise((l,q)=>{const r=t=>{this.ya.removeEventListener("message",r);t.data&&"ok"===t.data.type?l():q()};this.ya.addEventListener("message",r);this.ya.postMessage({type:"construct-worker-init","import":(new URL(d,this.ca)).toString()})})):this.ya=await this.Bc(d,this.ca,{type:"module",name:"Runtime",mg:!0});
const e=document.createElement("canvas");e.style.display="none";const f=e.transferControlToOffscreen();document.body.appendChild(e);const g=document.createElement("div");g.className="c3htmlwrap";document.body.appendChild(g);this.N.push({canvas:e,pb:g});window.c3canvas=e;self.C3_InsertHTMLPlaceholders&&self.C3_InsertHTMLPlaceholders();let h=a.zc||[],k=a.ob;h=await Promise.all(h.map(l=>this.Za(l)));k=await Promise.all(k.map(l=>this.Za(l)));if("cordova"===this.u)for(let l=0,q=a.yc.length;l<q;++l){const r=
a.yc[l],t=r[0];if(t===a.Cd||"scriptsInEvents.js"===t||t.endsWith("/scriptsInEvents.js"))r[1]=await this.Za(t)}this.ya.postMessage(Object.assign(this.Td(a),{type:"init-runtime",isInWorker:!0,messagePort:c,canvas:f,workerDependencyScripts:h,engineScripts:k,projectScripts:a.yc,mainProjectScript:a.Cd,projectScriptsStatus:self.C3_ProjectScriptsStatus}),[c,f,...ra(this.Ib)]);this.bb=E.map(l=>new l(this));this.Sd();H(e);sa(g);ta(this.pa);self.c3_callFunction=(l,q)=>{var r=this.pa;return r.l.Qd(r.Bb,"js-invoke-function",
{name:l,params:q})};"preview"===this.u&&(self.goToLastErrorScript=()=>this.xb("runtime","go-to-last-error-script"))}async tf(a,c){const d=document.createElement("canvas");d.style.display="none";document.body.appendChild(d);var e=document.createElement("div");e.className="c3htmlwrap";document.body.appendChild(e);this.N.push({canvas:d,pb:e});window.c3canvas=d;self.C3_InsertHTMLPlaceholders&&self.C3_InsertHTMLPlaceholders();this.bb=E.map(h=>new h(this));this.Sd();H(d);sa(e);e=a.ob.map(h=>"string"===
typeof h?(new URL(h,this.ca)).toString():h);if(Array.isArray(a.zc)){var f=[...a.zc].map(h=>h instanceof Blob?URL.createObjectURL(h):h);e.unshift(...f)}e=await Promise.all(e.map(h=>this.Za(h)));await Promise.all(e.map(h=>y(h)));e=self.C3_ProjectScriptsStatus;f=a.Cd;const g=a.yc;for(let [h,k]of g)if(k||(k=h),h===f)try{k=await this.Za(k),await y(k),"preview"!==this.u||e[h]||this.Xd(h,"main script did not run to completion")}catch(l){this.Xd(h,l)}else if("scriptsInEvents.js"===h||h.endsWith("/scriptsInEvents.js"))k=
await this.Za(k),await y(k);"preview"===this.u&&"object"!==typeof self.Cg.Eg?(this.$b(),console.error("[C3 runtime] Failed to load JavaScript code used in events. Check all your JavaScript code has valid syntax."),alert("Failed to load JavaScript code used in events. Check all your JavaScript code has valid syntax.")):(a=Object.assign(this.Td(a),{isInWorker:!1,messagePort:c,canvas:d,runOnStartupFunctions:la}),ta(this.pa),this.Ud(),this.fb=self.C3_CreateRuntime(a),await self.C3_InitRuntime(this.fb,
a))}Xd(a,c){this.$b();console.error(`[Preview] Failed to load project main script (${a}): `,c);alert(`Failed to load project main script (${a}). Check all your JavaScript code has valid syntax. Press F12 and check the console for error details.`)}Ud(){this.$b()}$b(){const a=window.cr_previewLoadingElem;a&&(a.parentElement.removeChild(a),window.cr_previewLoadingElem=null)}async yf(){const a=await ua(this.Ib);return{outputPort:a,transferables:[a]}}Ff(a){if(!this.gd){var c=a.styleWidth+"px",d=a.styleHeight+
"px",e=a.marginLeft+"px",f=a.marginTop+"px";for(const {canvas:g,pb:h}of this.N)g.style.width=c,g.style.height=d,g.style.marginLeft=e,g.style.marginTop=f,h.style.width=c,h.style.height=d,h.style.marginLeft=e,h.style.marginTop=f,this.le&&(g.style.display="",h.style.display="");document.documentElement.style.setProperty("--construct-scale",a.displayScale);this.le=!1}}_OnSetHTMLLayerCount(a){var c=a.count,d=a.immediate,e=a.styleWidth+"px",f=a.styleHeight+"px";const g=a.marginLeft+"px",h=a.marginTop+"px";
a=[];const k=[];if(c<this.N.length)for(;this.N.length>c;){const {canvas:l,pb:q}=this.N.pop();q.remove();this.fa&&!d?this.pd.push(l):l.remove()}else if(c>this.N.length)for(let l=0,q=c-this.N.length;l<q;++l)c=document.createElement("canvas"),c.classList.add("c3overlay"),this.fa?(d=c.transferControlToOffscreen(),a.push(d),k.push(d)):a.push(c),document.body.appendChild(c),d=document.createElement("div"),d.classList.add("c3htmlwrap","c3overlay"),document.body.appendChild(d),c.style.width=e,c.style.height=
f,c.style.marginLeft=g,c.style.marginTop=h,d.style.width=e,d.style.height=f,d.style.marginLeft=g,d.style.marginTop=h,H(c),sa(d),this.N.push({canvas:c,pb:d});for(const l of this.bb)if(l instanceof window.Cc&&l.zb)for(const q of l.cb.values())e=l.l.Ld(q.Sf),f=q.Ma,-1!==e&&-1!==f&&e!==f&&(f=q.ec,f.remove(),l.l.Ec(e).appendChild(f),q.Ma=e);this.Xc();return{addedCanvases:a,transferables:k}}wf(){for(const a of this.pd)a.remove();this.pd.length=0}Xc(){this.qd||(this.qd=!0,this.Lc(this.ze))}qf(){this.Wd(this.ze);
this.qd=!1;let a=[];for(var c of this.bb)if(c instanceof window.Cc){var d=c.zb?[...c.cb.values()]:null;d&&a.push(...d)}a.sort((g,h)=>{const k=g.Ma,l=h.Ma;return k!==l?k-l:g.ed-h.ed});let e=d=c=0,f=a.length;for(;e<f;++e){const g=a[e];g.Ma!==c&&(this.Rd(c,a.slice(d,e)),c=g.Ma,d=e)}d<e&&this.Rd(c,a.slice(d,e))}Rd(a,c){if(!(1>=c.length||a>=this.N.length)){c=c.map(k=>k.ec);var d=new Set(c);a=this.Ec(a);for(var e=Array.from(a.children).filter(k=>d.has(k)),f=0,g=Math.min(c.length,e.length);f<g&&c[f]===e[f];++f);
for(var h=f;h<g;++h)e[h].remove();for(h=f;h<g;++h)a.appendChild(c[h])}}sf(){if(this.fa)throw Error("not available in worker mode");return this.fb}xb(a,c,d,e,f){this.Ba.postMessage({type:"event",component:a,handler:c,dispatchOpts:e||null,data:d,responseId:null},f)}Qd(a,c,d,e,f){const g=ka++,h=new Promise((k,l)=>{G.set(g,{resolve:k,reject:l})});this.Ba.postMessage({type:"event",component:a,handler:c,dispatchOpts:e||null,data:d,responseId:g},f);return h}_OnMessageFromRuntime(a){const c=a.type;if("event"===
c)return this.zf(a);if("result"===c)this.Cf(a);else if("runtime-ready"===c)this.Df();else if("alert-error"===c)this.$b(),alert(a.message);else if("creating-runtime"===c)this.Ud();else throw Error(`unknown message '${c}'`);}zf(a){const c=a.component,d=a.handler,e=a.data,f=a.responseId;if(a=F.get(c))if(a=a.get(d)){var g=null;try{g=a(e)}catch(h){console.error(`Exception in '${c}' handler '${d}':`,h);null!==f&&this.Zb(f,!1,""+h);return}if(null===f)return g;g&&g.then?g.then(h=>this.Zb(f,!0,h)).catch(h=>
{console.error(`Rejection from '${c}' handler '${d}':`,h);this.Zb(f,!1,""+h)}):this.Zb(f,!0,g)}else console.warn(`[DOM] No handler '${d}' for component '${c}'`);else console.warn(`[DOM] No event handlers for component '${c}'`)}Zb(a,c,d){let e;d&&d.transferables&&(e=d.transferables);this.Ba.postMessage({type:"result",responseId:a,isOk:c,result:d},e)}Cf(a){const c=a.responseId,d=a.isOk;a=a.result;const e=G.get(c);d?e.resolve(a):e.reject(a);G.delete(c)}B(a,c,d){let e=F.get(a);e||(e=new Map,F.set(a,e));
if(e.has(c))throw Error(`[DOM] Component '${a}' already has handler '${c}'`);e.set(c,d)}static Fa(a){if(E.includes(a))throw Error("DOM handler already added");E.push(a)}Sd(){for(const a of this.bb)if("runtime"===a.Bb){this.pa=a;return}throw Error("cannot find runtime DOM handler");}Af(a){this.xb("debugger","message",a)}Df(){for(const a of this.bb)a.Gd()}static ub(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||pa)}static ac(a){pa=!!a}Lc(a){this.Qb.add(a);
this.Wc()}Wd(a){this.Qb.delete(a);0===this.Qb.size&&this.Mc()}Wc(){-1===this.lb&&0<this.Qb.size&&(this.lb=requestAnimationFrame(this.Qf))}Mc(){-1!==this.lb&&(cancelAnimationFrame(this.lb),this.lb=-1)}Bf(){this.lb=-1;for(const a of this.Qb)a();this.Wc()}Ja(a){this.pa.Ja(a)}Xa(a){this.pa.Xa(a)}Vc(){this.pa.Vc()}Xb(a){this.pa.Xb(a)}cf(){return!!fa["audio/webm; codecs=opus"]}async If(a){a=await this.Qd("runtime","opus-decode",{arrayBuffer:a},null,[a]);return new Float32Array(a)}hf(a){this.gd=!0;this.ee=
a}af(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)}Od(a){return!this.af(a)}async Za(a){return"cordova"===this.u&&(a.startsWith("file:")||this.ic&&this.Od(a))?(a.startsWith(this.ca)&&(a=a.substr(this.ca.length)),a=await this.Ub(a),URL.createObjectURL(new Blob([a],{type:"application/javascript"}))):a}async xf(a){const c=a.filename;switch(a.as){case "text":return await this.Ze(c);case "buffer":return await this.Ub(c);default:throw Error("unsupported type");
}}Jd(a){const c=window.cordova.file.applicationDirectory+"www/"+a;return new Promise((d,e)=>{window.resolveLocalFileSystemURL(c,f=>{f.file(d,e)},e)})}async Ze(a){a=await this.Jd(a);return await ha(a)}Nc(){if(A.length&&!(8<=C)){C++;var a=A.shift();this.nf(a.filename,a.wg,a.jg)}}Ub(a){return new Promise((c,d)=>{A.push({filename:a,wg:e=>{C--;this.Nc();c(e)},jg:e=>{C--;this.Nc();d(e)}});this.Nc()})}async nf(a,c,d){try{const e=await this.Jd(a),f=await ja(e);c(f)}catch(e){d(e)}}Vd(a){if("entered-fullscreen"===
a)b.ac(!0),I(this.pa);else if("exited-fullscreen"===a)b.ac(!1),I(this.pa);else if("object"===typeof a){const c=a.type;"wrapper-init-response"===c?(this.xd(a),this.xd=null):"extension-message"===c?this.xb("runtime","wrapper-extension-message",a):console.warn("Unknown wrapper message: ",a)}else console.warn("Unknown wrapper message: ",a)}Ef(a){this.Ka({type:"extension-message",componentId:a.componentId,messageId:a.messageId,params:a.params||[],asyncId:a.asyncId})}Ka(a){this.ra()?window.chrome.webview.postMessage(JSON.stringify(a)):
"macos-wkwebview"===this.u&&window.webkit.messageHandlers.C3Wrapper.postMessage(JSON.stringify(a))}Hf(){window.moveTo=(a,c)=>{this.Ka({type:"set-window-position",windowX:Math.ceil(a),windowY:Math.ceil(c)})};window.resizeTo=(a,c)=>{this.Ka({type:"set-window-size",windowWidth:Math.ceil(a),windowHeight:Math.ceil(c)})}}vf(){return this.ra()?new Promise(a=>{this.xd=a;this.Ka({type:"wrapper-init"})}):Promise.resolve()}async mf(){const a=[];for(const [c,d]of Object.entries(this.va))a.push(this.lf(c,d));
await Promise.all(a)}async lf(a,c){if("object"===typeof c)this.va[a]=new Blob([c.str],{type:c.type}),this.lc[a]=c.str;else{let d=await this.rf(c);d||(d=this.pf(c));this.va[a]=d}}async rf(a){try{return await (await fetch(a)).blob()}catch(c){return console.warn("Failed to fetch a data: URI. Falling back to a slower workaround. This is probably because the Content Security Policy unnecessarily blocked it. Allow data: URIs in your CSP to avoid this.",c),null}}pf(a){a=this.Gf(a);return this.kf(a.data,
a.og)}Gf(a){var c=a.indexOf(",");if(0>c)throw new URIError("expected comma in data: uri");var d=a.substring(c+1);c=a.substring(5,c).split(";");a=c[0]||"";const e=c[2];d="base64"===c[1]||"base64"===e?atob(d):decodeURIComponent(d);return{og:a,data:d}}kf(a,c){var d=a.length;let e=d>>2,f=new Uint8Array(d),g=new Uint32Array(f.buffer,0,e),h,k;for(k=h=0;h<e;++h)g[h]=a.charCodeAt(k++)|a.charCodeAt(k++)<<8|a.charCodeAt(k++)<<16|a.charCodeAt(k++)<<24;for(d&=3;d--;)f[k]=a.charCodeAt(k),++k;return new Blob([f],
{type:c})}};"use strict";const J=self.ia,va=new Map([["OSLeft","MetaLeft"],["OSRight","MetaRight"]]),K={dispatchRuntimeEvent:!0,dispatchUserScriptEvent:!0},wa={dispatchUserScriptEvent:!0},xa={dispatchRuntimeEvent:!0};function ya(b){return new Promise((a,c)=>{const d=document.createElement("link");d.onload=()=>a(d);d.onerror=e=>c(e);d.rel="stylesheet";d.href=b;document.head.appendChild(d)})}function za(b){return new Promise((a,c)=>{const d=new Image;d.onload=()=>a(d);d.onerror=e=>c(e);d.src=b})}
async function L(b){b=URL.createObjectURL(b);try{return await za(b)}finally{URL.revokeObjectURL(b)}}function Aa(b){return new Promise((a,c)=>{let d=new FileReader;d.onload=e=>a(e.target.result);d.onerror=e=>c(e);d.readAsText(b)})}
async function Ba(b,a,c){if(!/firefox/i.test(navigator.userAgent))return await L(b);var d=await Aa(b);d=(new DOMParser).parseFromString(d,"image/svg+xml");const e=d.documentElement;if(e.hasAttribute("width")&&e.hasAttribute("height")){const f=e.getAttribute("width"),g=e.getAttribute("height");if(!f.includes("%")&&!g.includes("%"))return await L(b)}e.setAttribute("width",a+"px");e.setAttribute("height",c+"px");d=(new XMLSerializer).serializeToString(d);b=new Blob([d],{type:"image/svg+xml"});return await L(b)}
function Ca(b){do{if(b.parentNode&&b.hasAttribute("contenteditable"))return!0;b=b.parentNode}while(b);return!1}const Da=new Set(["input","textarea","datalist","select"]),Ea=new Set(["canvas","body","html"]);function M(b){b.target.tagName&&Ea.has(b.target.tagName.toLowerCase())&&b.preventDefault()}function Fa(b){b.target.tagName&&b.target.classList.contains("c3htmlwrap")&&b.preventDefault()}function Ha(b){(b.metaKey||b.ctrlKey)&&b.preventDefault()}
self.C3_GetSvgImageSize=async function(b){b=await L(b);if(0<b.width&&0<b.height)return[b.width,b.height];b.style.position="absolute";b.style.left="0px";b.style.top="0px";b.style.visibility="hidden";document.body.appendChild(b);const a=b.getBoundingClientRect();document.body.removeChild(b);return[a.width,a.height]};self.C3_RasterSvgImageBlob=async function(b,a,c,d,e){b=await Ba(b,a,c);const f=document.createElement("canvas");f.width=d;f.height=e;f.getContext("2d").drawImage(b,0,0,a,c);return f};
let Ia=!1;document.addEventListener("pause",()=>Ia=!0);document.addEventListener("resume",()=>Ia=!1);function H(b){b.addEventListener("selectstart",M);b.addEventListener("gesturehold",M);b.addEventListener("pointerdown",M)}function sa(b){b.addEventListener("selectstart",Fa);b.addEventListener("gesturehold",Fa);b.addEventListener("touchstart",Fa)}function ta(b){b.de=!0;b.kd=b.l.sa();b.Jb=b.l.ja()}
function I(b){if(!b.na){var a=J.ub();a&&"any"!==b.td&&Ja(b);m(b,"fullscreenchange",{isFullscreen:a,innerWidth:b.sa(),innerHeight:b.ja()})}}async function Ka(b){await Promise.all(b.webfonts.map(async a=>{a=new FontFace(a.name,`url('${a.url}')`);document.fonts.add(a);await a.load()}))}
async function La(b){var a=b.imageBitmapOpts;b=await self.C3_RasterSvgImageBlob(b.blob,b.imageWidth,b.imageHeight,b.surfaceWidth,b.surfaceHeight);a=a?await createImageBitmap(b,a):await createImageBitmap(b);return{imageBitmap:a,transferables:[a]}}async function Ma(b){return await self.C3_GetSvgImageSize(b.blob)}function Na(b){window.c3_postToMessagePort&&(b.from="runtime",window.c3_postToMessagePort(b))}
function Oa(b){self.setTimeout(()=>{b.ce=!0},1E3);"cordova"===b.l.u?(document.addEventListener("pause",()=>Pa(b,!0)),document.addEventListener("resume",()=>Pa(b,!1))):document.addEventListener("visibilitychange",()=>Pa(b,"hidden"===document.visibilityState));b.pc=!("hidden"!==document.visibilityState&&!Ia);return{isSuspended:b.pc}}
function Qa(b){b.Zd||(b.Zd=!0,window.addEventListener("deviceorientation",a=>{b.na||m(b,"deviceorientation",{absolute:!!a.absolute,alpha:a.alpha||0,beta:a.beta||0,gamma:a.gamma||0,timeStamp:a.timeStamp,webkitCompassHeading:a.webkitCompassHeading,webkitCompassAccuracy:a.webkitCompassAccuracy},K)}),window.addEventListener("deviceorientationabsolute",a=>{b.na||m(b,"deviceorientationabsolute",{absolute:!!a.absolute,alpha:a.alpha||0,beta:a.beta||0,gamma:a.gamma||0,timeStamp:a.timeStamp},K)}))}
function Ra(b){b.Yd||(b.Yd=!0,window.addEventListener("devicemotion",a=>{if(!b.na){var c=null,d=a.acceleration;d&&(c={x:d.x||0,y:d.y||0,z:d.z||0});d=null;var e=a.accelerationIncludingGravity;e&&(d={x:e.x||0,y:e.y||0,z:e.z||0});e=null;var f=a.rotationRate;f&&(e={alpha:f.alpha||0,beta:f.beta||0,gamma:f.gamma||0});m(b,"devicemotion",{acceleration:c,accelerationIncludingGravity:d,rotationRate:e,interval:a.interval,timeStamp:a.timeStamp},K)}}))}async function Sa(b){await ya(b.url)}
function Ta(b,a){b.fe=a.message;-1===b.ad&&(b.ad=setTimeout(()=>{b.ad=-1;const c=document.getElementById("exportToVideoMessage");c&&(c.textContent=b.fe)},250))}function Ua(b,a){console.warn("[Construct] Fullscreen request failed: ",a);m(b,"fullscreenerror",{isFullscreen:J.ub(),innerWidth:b.sa(),innerHeight:b.ja()})}
function Pa(b,a){b.pc!==a&&((b.pc=a)?b.l.Mc():b.l.Wc(),m(b,"visibilitychange",{hidden:a}),!a&&b.l.vb()&&(b=()=>{document.scrollingElement.scrollTop=0;document.scrollingElement.scrollLeft=0},setTimeout(b,50),setTimeout(b,100),setTimeout(b,250),setTimeout(b,500)))}
function Va(b,a,c){"Backspace"===c.key&&M(c);if(b.l.ra()){var d=["r","p","f","g","u"];(["F3","F5","F7"].includes(c.key)||c.ctrlKey&&d.includes(c.key))&&c.preventDefault()}b.na||(d=va.get(c.code)||c.code,n(b,a,{code:d,key:c.key,which:c.which,repeat:c.repeat,altKey:c.altKey,ctrlKey:c.ctrlKey,metaKey:c.metaKey,shiftKey:c.shiftKey,timeStamp:c.timeStamp},K))}
function N(b,a,c,d){b.na||c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents||c.originalEvent&&c.originalEvent.sourceCapabilities&&c.originalEvent.sourceCapabilities.firesTouchEvents||n(b,a,{button:c.button,buttons:c.buttons,clientX:c.clientX,clientY:c.clientY+b.Ea,pageX:c.pageX,pageY:c.pageY+b.Ea,movementX:c.movementX||0,movementY:c.movementY||0,timeStamp:c.timeStamp},d)}
function O(b,a,c){if(!b.na){var d=0;"mouse"===c.pointerType&&(d=b.md);n(b,a,{pointerId:c.pointerId,pointerType:c.pointerType,button:c.button,buttons:c.buttons,lastButtons:d,clientX:c.clientX,clientY:c.clientY+b.Ea,pageX:c.pageX,pageY:c.pageY+b.Ea,movementX:c.movementX||0,movementY:c.movementY||0,width:c.width||0,height:c.height||0,pressure:c.pressure||0,tangentialPressure:c.tangentialPressure||0,tiltX:c.tiltX||0,tiltY:c.tiltY||0,twist:c.twist||0,timeStamp:c.timeStamp},K);"mouse"===c.pointerType&&
(b.md=c.buttons)}}function Wa(b,a,c){document.body.style.position="";document.body.style.overflow="";document.body.style.transform="";b.Ea=0;if(0<c){var d=document.activeElement;d&&(d=d.getBoundingClientRect(),a=(d.top+d.bottom)/2-(a-c)/2,a>c&&(a=c),0>a&&(a=0),0<a&&(document.body.style.position="absolute",document.body.style.overflow="visible",document.body.style.transform=`translateY(${-a}px)`,b.Ea=a))}}
function Xa(b,a,c,d){const e=b.sa(),f=b.ja();b.nb=-1;e!=a||f!=c?m(b,"window-resize",{innerWidth:e,innerHeight:f,devicePixelRatio:window.devicePixelRatio,isFullscreen:J.ub()}):10>d&&Ya(b,e,f,d+1)}function Ya(b,a,c,d){-1!==b.nb&&clearTimeout(b.nb);b.nb=setTimeout(()=>Xa(b,a,c,d),48)}
function Ja(b){b=b.td;if(screen.orientation&&screen.orientation.lock)screen.orientation.lock(b).catch(a=>console.warn("[Construct] Failed to lock orientation: ",a));else try{let a=!1;screen.lockOrientation?a=screen.lockOrientation(b):screen.webkitLockOrientation?a=screen.webkitLockOrientation(b):screen.mozLockOrientation?a=screen.mozLockOrientation(b):screen.msLockOrientation&&(a=screen.msLockOrientation(b));a||console.warn("[Construct] Failed to lock orientation")}catch(a){console.warn("[Construct] Failed to lock orientation: ",
a)}}function Za(b){return!b||b===document||b===window||b===document.body||"canvas"===b.tagName.toLowerCase()}
J.Fa(class extends self.Ga{constructor(b){super(b,"runtime");this.de=!1;this.nb=-1;this.td="any";this.pc=this.Yd=this.Zd=!1;this.vc=document.createElement("div");this.vc.className="c3-screen-reader-text";this.vc.setAttribute("aria-live","polite");document.body.appendChild(this.vc);this.Pa=null;this.na=!1;this.fe="";this.ad=-1;this.ce=!1;this.kd=b.sa();this.Jb=b.ja();this.Ea=this.Sb=0;b.B("runtime","invoke-download",c=>{const d=c.url;c=c.filename;const e=document.createElement("a"),f=document.body;
e.textContent=c;e.href=d;e.download=c;f.appendChild(e);e.click();f.removeChild(e)});b.B("runtime","load-webfonts",c=>Ka(c));b.B("runtime","raster-svg-image",c=>La(c));b.B("runtime","get-svg-image-size",c=>Ma(c));b.B("runtime","set-target-orientation",c=>{this.td=c.targetOrientation});b.B("runtime","register-sw",()=>{window.C3_RegisterSW&&window.C3_RegisterSW()});b.B("runtime","post-to-debugger",c=>Na(c));b.B("runtime","go-to-script",c=>Na(c));b.B("runtime","before-start-ticking",()=>Oa(this));b.B("runtime",
"debug-highlight",c=>{if(c.show){this.Pa||(this.Pa=document.createElement("div"),this.Pa.id="inspectOutline",document.body.appendChild(this.Pa));var d=this.Pa;d.style.display="";d.style.left=c.left-1+"px";d.style.top=c.top-1+"px";d.style.width=c.width+2+"px";d.style.height=c.height+2+"px";d.textContent=c.name}else this.Pa&&(this.Pa.style.display="none")});b.B("runtime","enable-device-orientation",()=>Qa(this));b.B("runtime","enable-device-motion",()=>Ra(this));b.B("runtime","add-stylesheet",c=>Sa(c));
b.B("runtime","script-create-worker",c=>{const d=c.port2;(new Worker(c.url,c.opts)).postMessage({type:"construct-worker-init",port2:d},[d])});b.B("runtime","alert",c=>this.Rc(c));b.B("runtime","screen-reader-text",c=>{var d=c.type;"create"===d?(d=document.createElement("p"),d.id="c3-sr-"+c.id,d.textContent=c.text,this.vc.appendChild(d)):"update"===d?(d=document.getElementById("c3-sr-"+c.id))?d.textContent=c.text:console.warn(`[Construct] Missing screen reader text with id ${c.id}`):"release"===d?
(d=document.getElementById("c3-sr-"+c.id))?d.remove():console.warn(`[Construct] Missing screen reader text with id ${c.id}`):console.warn(`[Construct] Unknown screen reader text update '${d}'`)});b.B("runtime","hide-cordova-splash",()=>{navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide()});b.B("runtime","set-exporting-to-video",c=>{this.na=!0;const d=document.createElement("h1");d.id="exportToVideoMessage";d.textContent=c.message;document.body.prepend(d);document.body.classList.add("exportingToVideo");
this.l.Md().style.display="";this.l.hf(c.duration)});b.B("runtime","export-to-video-progress",c=>Ta(this,c));b.B("runtime","exported-to-video",c=>{window.Wf({type:"exported-video",arrayBuffer:c.arrayBuffer,contentType:c.contentType,time:c.time})});b.B("runtime","exported-to-image-sequence",c=>{window.Wf({type:"exported-image-sequence",blobArr:c.blobArr,time:c.time,gif:c.gif})});const a=new Set(["input","textarea","datalist"]);window.addEventListener("contextmenu",c=>{const d=c.target;a.has(d.tagName.toLowerCase())||
Ca(d)||c.preventDefault()});window.addEventListener("selectstart",M);window.addEventListener("gesturehold",M);window.addEventListener("touchstart",M,{passive:!1});window.addEventListener("pointerdown",M,{passive:!1});this.md=0;window.addEventListener("mousedown",c=>{1===c.button&&c.preventDefault()});window.addEventListener("mousewheel",Ha,{passive:!1});window.addEventListener("wheel",Ha,{passive:!1});window.addEventListener("resize",()=>{a:{if(!this.na&&this.de){var c=this.sa();var d=this.ja();if(this.l.Nd()){if(this.ce){if(this.kd===
c&&d<this.Jb){this.Sb=this.Jb-d;Wa(this,this.Jb,this.Sb);c=void 0;break a}0<this.Sb&&(this.Sb=0,Wa(this,d,this.Sb))}this.kd=c;this.Jb=d}m(this,"window-resize",{innerWidth:c,innerHeight:d,devicePixelRatio:window.devicePixelRatio,isFullscreen:J.ub()});this.l.vb()&&(-1!==this.nb&&clearTimeout(this.nb),Xa(this,c,d,0))}c=void 0}return c});window.addEventListener("fullscreenchange",()=>I(this));window.addEventListener("webkitfullscreenchange",()=>I(this));window.addEventListener("mozfullscreenchange",()=>
I(this));window.addEventListener("fullscreenerror",c=>Ua(this,c));window.addEventListener("webkitfullscreenerror",c=>Ua(this,c));window.addEventListener("mozfullscreenerror",c=>Ua(this,c));if(b.vb()){if(window.visualViewport){let c=Infinity;window.visualViewport.addEventListener("resize",()=>{const d=window.visualViewport.height;d>c&&(document.scrollingElement.scrollTop=0,document.scrollingElement.scrollLeft=0);c=d})}else window.addEventListener("focusout",()=>{{const e=document.activeElement;if(e){var c=
e.tagName.toLowerCase();var d=new Set("email number password search tel text url".split(" "));c="textarea"===c?!0:"input"===c?d.has(e.type.toLowerCase()||"text"):Ca(e)}else c=!1}c||(document.scrollingElement.scrollTop=0)});document.documentElement.setAttribute("ioswebview","")}this.gb=new Set;this.nc=new WeakSet;this.Aa=!1}Gd(){window.addEventListener("focus",()=>{m(this,"window-focus",null,xa)});window.addEventListener("blur",()=>{try{var a=window.parent&&window.parent.document.hasFocus()}catch(c){a=
!1}m(this,"window-blur",{parentHasFocus:a},xa);this.md=0});window.addEventListener("focusin",a=>{a=a.target;(Da.has(a.tagName.toLowerCase())||Ca(a))&&m(this,"keyboard-blur",null,xa)});window.addEventListener("keydown",a=>Va(this,"keydown",a));window.addEventListener("keyup",a=>Va(this,"keyup",a));window.addEventListener("mousedown",a=>N(this,"mousedown",a,wa));window.addEventListener("mousemove",a=>N(this,"mousemove",a,wa));window.addEventListener("mouseup",a=>N(this,"mouseup",a,wa));window.addEventListener("dblclick",
a=>N(this,"dblclick",a,K));window.addEventListener("wheel",a=>{this.na||m(this,"wheel",{clientX:a.clientX,clientY:a.clientY+this.Ea,pageX:a.pageX,pageY:a.pageY+this.Ea,deltaX:a.deltaX,deltaY:a.deltaY,deltaZ:a.deltaZ,deltaMode:a.deltaMode,timeStamp:a.timeStamp},K)});window.addEventListener("pointerdown",a=>{window!==window.top&&window.focus();Za(a.target)&&document.activeElement&&!Za(document.activeElement)&&document.activeElement.blur();O(this,"pointerdown",a)});this.l.fa&&"undefined"!==typeof window.onpointerrawupdate&&
self===self.top?window.addEventListener("pointerrawupdate",a=>{O(this,"pointermove",a)}):window.addEventListener("pointermove",a=>O(this,"pointermove",a));window.addEventListener("pointerup",a=>O(this,"pointerup",a));window.addEventListener("pointercancel",a=>O(this,"pointercancel",a));const b=()=>this.Vc();window.addEventListener("pointerup",b,!0);window.addEventListener("touchend",b,!0);window.addEventListener("click",b,!0);window.addEventListener("keydown",b,!0);window.addEventListener("gamepadconnected",
b,!0);this.l.bf()&&!this.l.Nd()&&navigator.virtualKeyboard&&(navigator.virtualKeyboard.overlaysContent=!0,navigator.virtualKeyboard.addEventListener("geometrychange",()=>{Wa(this,this.ja(),navigator.virtualKeyboard.boundingRect.height)}));this.l.vb()&&(document.scrollingElement.scrollTop=0,document.scrollingElement.scrollLeft=0)}sa(){return this.l.sa()}ja(){return this.l.ja()}Vc(){var b=[...this.gb];this.gb.clear();if(!this.Aa)for(const a of b)(b=a.play())&&b.catch(()=>{this.nc.has(a)||this.gb.add(a)})}Ja(b){if("function"!==
typeof b.play)throw Error("missing play function");this.nc.delete(b);let a;try{a=b.play()}catch(c){this.gb.add(b);return}a&&a.catch(()=>{this.nc.has(b)||this.gb.add(b)})}Xa(b){this.gb.delete(b);this.nc.add(b)}Xb(b){this.Aa=!!b}Rc(b){alert(b.message)}});"use strict";
async function qa(b){if(b.Kf)throw Error("already initialised");b.Kf=!0;var a=b.Ca.Oc(("playable-ad"===b.Ca.u?b.Ca.mb:"")+"dispatchworker.js");b.$c=await b.Ca.Bc(a,b.Ab,{name:"DispatchWorker"});a=new MessageChannel;b.fd=a.port1;b.$c.postMessage({type:"_init","in-port":a.port2},[a.port2]);b.od=await ua(b)}function ra(b){return[b.fd,b.od]}
async function ua(b){const a=b.me.length;var c=b.Ca.Oc(("playable-ad"===b.Ca.u?b.Ca.mb:"")+"jobworker.js");c=await b.Ca.Bc(c,b.Ab,{name:"JobWorker"+a});const d=new MessageChannel,e=new MessageChannel;b.$c.postMessage({type:"_addJobWorker",port:d.port1},[d.port1]);c.postMessage({type:"init",number:a,"dispatch-port":d.port2,"output-port":e.port2},[d.port2,e.port2]);b.me.push(c);return e.port1}
self.ef=class{constructor(b){this.Ca=b;this.Ab=b.ca;this.Ab="preview"===b.u?this.Ab+"workers/":this.Ab+b.mb;this.Nf=Math.min(navigator.hardwareConcurrency||2,16);this.$c=null;this.me=[];this.od=this.fd=null}};"use strict";window.C3_Is_Supported&&(window.c3_runtimeInterface=new self.ia({zg:!0,Ag:"workermain.js",ob:["scripts/c3runtime.js"],yc:[],Cd:"",ug:"scripts/",zc:[],Be:"html5"}));"use strict";
self.ia.Fa(class extends self.Ga{constructor(b){super(b,"mouse");p(this,[["cursor",a=>{document.documentElement.style.cursor=a}],["request-pointer-lock",()=>{this.l.Md().requestPointerLock()}],["release-pointer-lock",()=>{document.exitPointerLock()}]]);document.addEventListener("pointerlockchange",()=>{m(this,"pointer-lock-change",{"has-pointer-lock":!!document.pointerLockElement})});document.addEventListener("pointerlockerror",()=>{m(this,"pointer-lock-error",{"has-pointer-lock":!!document.pointerLockElement})})}});
"use strict";const $a=180/Math.PI;
async function ab(b,a){if(a.isiOSCordova||a.isSafari)b.rc=!0;b.ud=a.timeScaleMode;b.re=["equalpower","HRTF","soundfield"][a.panningModel];b.be=["linear","inverse","exponential"][a.distanceModel];b.se=a.refDistance;b.qe=a.maxDistance;b.ue=a.rolloffFactor;if(b.l.gd)b.rc=!0,b.g=new OfflineAudioContext({numberOfChannels:2,sampleRate:48E3,length:Math.ceil(48E3*b.l.ee)});else{var c={latencyHint:a.latencyHint};b.xe||(c.sampleRate=48E3);if("undefined"!==typeof AudioContext)b.g=new AudioContext(c);else if("undefined"!==
typeof webkitAudioContext)b.g=new webkitAudioContext(c);else throw Error("Web Audio API not supported");bb(b);b.g.onstatechange=()=>{"running"!==b.g.state&&bb(b);m(b,"audiocontext-state",{audioContextState:b.g.state})}}b.ab=b.g.createGain();b.ab.connect(b.g.destination);c=a.listenerPos;b.ba[0]=c[0];b.ba[1]=c[1];b.ba[2]=c[2];b.g.listener.setPosition(c[0],c[1],c[2]);b.g.listener.setOrientation(...b.da);self.C3_GetAudioContextCurrentTime=()=>b.g.currentTime;try{await Promise.all(a.preloadList.map(d=>
P(b,d.originalUrl,d.url,d.type,!1)))}catch(d){console.error("[Construct] Preloading sounds failed: ",d)}return{sampleRate:b.g.sampleRate,audioContextState:b.g.state,outputLatency:b.g.outputLatency||0}}
async function cb(b,a){var c=a.originalUrl,d=a.url;const e=a.type,f=a.isMusic,g=a.tags,h=a.isLooping,k=a.vol,l=a.pos,q=a.panning,r=a.stereoPan;let t=a.off;0<t&&!a.trueClock&&(b.g.getOutputTimestamp?(a=b.g.getOutputTimestamp(),t=t-a.performanceTime/1E3+a.contextTime):t=t-performance.now()/1E3+b.g.currentTime);b.ne=g.slice(0);db(b,g);try{b.T=await eb(b,c,d,e,g,f);if(q){Q(b.T,!0);var u=b.T,B=q.innerAngle,ma=q.outerAngle,na=q.outerGain;if(u.Hb){fb(u,q.x,q.y,q.z,q.angle);var D=self.rb.jf;u.wa[0]!==D(B)&&
(u.wa[0]=D(B),u.G.coneInnerAngle=D(B));u.wa[1]!==D(ma)&&(u.wa[1]=D(ma),u.G.coneOuterAngle=D(ma));u.wa[2]!==na&&(u.wa[2]=na,u.G.coneOuterGain=na)}q.hasOwnProperty("uid")&&(b.T.ua=q.uid)}else"number"===typeof r&&0!==r?(R(b.T,!0),gb(b.T,r)):(Q(b.T,!1),R(b.T,!1));b.T.Play(h,k,l,t)}catch(vb){console.error("[Construct] Audio: error starting playback: ",vb);return}finally{c=g.join(" ");d=b.Pb.get(c);if(!d)throw Error("expected pending tag");d.Dd--;0===d.Dd&&(d.resolve(),b.Pb.delete(c))}v(b)}
async function hb(b,a){var c=a.tags;const d=a.vol,e=a.duration;a=a.stopOnEnd;await ib(b,c);for(const h of S(b,c))if(!h.za){c=h.H.gain;c.cancelScheduledValues(0);var f=h.v.g.currentTime,g=f+e;c.setValueAtTime(c.value,f);c.linearRampToValueAtTime(d,g);h.Ua=d;h.eb=g;h.we=a}T(b)}async function jb(b,a){const c=a.tags;a=a.rate;await ib(b,c);for(const d of S(b,c))d.oa!==a&&(d.oa=a,d.La())}async function kb(b,a){const c=a.tags;a=a.pos;await ib(b,c);for(const d of S(b,c))d.Ic(a)}
async function lb(b,a){const c=a.originalUrl,d=a.url,e=a.type;a=a.isMusic;try{await eb(b,c,d,e,"",a)}catch(f){console.error("[Construct] Audio: error preloading: ",f)}}async function mb(b,a){if(a=await P(b,"",a.url,a.type,a.isMusic,!0))a.j(),a=b.la.indexOf(a),-1!==a&&b.la.splice(a,1)}
async function nb(b,a){const c=a.type;var d=a.hasOwnProperty("tags")?a.tags:[a.tag];const e=a.params;let f;if("convolution"===c)try{f=await P(b,a.bufferOriginalUrl,a.bufferUrl,a.bufferType,!1)}catch(k){console.log("[Construct] Audio: error loading convolution: ",k);return}for(const k of d){if("filter"===c)d=new self.Oe(b,...e);else if("delay"===c)d=new self.Me(b,...e);else if("convolution"===c){var g=d=new self.Le(b,f.ka,...e),h=a.bufferType;g.$d=a.bufferOriginalUrl;g.ae=h}else if("flanger"===c)d=
new self.Pe(b,...e);else if("phaser"===c)d=new self.Re(b,...e);else if("gain"===c)d=new self.Qe(b,...e);else if("stereopan"===c)d=new self.Te(b,...e);else if("tremolo"===c)d=new self.Ue(b,...e);else if("ringmod"===c)d=new self.Se(b,...e);else if("distortion"===c)d=new self.Ne(b,...e);else if("compressor"===c)d=new self.Ke(b,...e);else if("analyser"===c)d=new self.Je(b,...e);else throw Error("invalid effect type");g=b;h=k;h=h.toLowerCase();let l=g.ma.get(h);l||(l=[],g.ma.set(h,l));d.ke=l.length;d.sd=
h;l.push(d);ob(g,h)}pb(b)}
async function qb(b,a){const c=a.saveLoadMode;if(3!==c){var d=[];for(var e of b.I)e.Ha()&&1===c||!e.Ha()&&2===c?d.push(e):e.j();b.I=d}for(const f of b.ma.values())for(const g of f)g.j();b.ma.clear();b.wc=a.timeScale;b.bd=a.gameTime;d=a.listenerPos;b.ba[0]=d[0];b.ba[1]=d[1];b.ba[2]=d[2];b.g.listener.setPosition(d[0],d[1],d[2]);d=a.listenerOrientation;if(Array.isArray(d)){for(e=0;6>e;++e)b.da[e]=d[e];b.g.listener.setOrientation(...b.da)}b.Aa=a.isSilent;b.l.Xb(b.Aa);b.mc=a.masterVolume;b.ab.gain.value=
b.mc;d=[];for(const f of Object.values(a.effects))d.push(Promise.all(f.map(g=>nb(b,g))));await Promise.all(d);await Promise.all(a.playing.map(f=>sb(b,f,c)));T(b)}
async function tb(b,a){try{const c=b.g.suspend(a.time);b.je?b.g.resume():(b.g.startRendering().then(d=>{const e=[];for(let f=0,g=d.numberOfChannels;f<g;++f){const h=d.getChannelData(f);e.push(h.buffer)}b.l.xb("runtime","offline-audio-render-completed",{duration:d.duration,length:d.length,numberOfChannels:d.numberOfChannels,sampleRate:d.sampleRate,channelData:e},null,e)}).catch(d=>ub(d)),b.je=!0);await c}catch(c){ub(c)}}
function bb(b){b.fc||(b.dd=!1,window.addEventListener("pointerup",b.Da,!0),window.addEventListener("touchend",b.Da,!0),window.addEventListener("click",b.Da,!0),window.addEventListener("keydown",b.Da,!0),b.fc=!0)}
async function P(b,a,c,d,e,f){for(var g of b.la)if(g.tb()===c)return await wb(g),g;if(f)return null;if(e&&(b.rc||b.ie)){f=0;for(let h=0,k=b.la.length;h<k;++h)g=b.la[h],b.la[f]=g,g.Ha()?g.j():++f;b.la.length=f}f="audio/webm; codecs=opus"===d&&!b.xe;e&&f&&(b.ie=!0);c=!e||b.rc||f?new self.Xe(b,a,c,d,e,f):new self.Ve(b,a,c,d,e);b.la.push(c);await wb(c);b.pe.has(a)||(m(b,"buffer-metadata",{originalUrl:a,duration:c.ha()}),b.pe.add(a));return c}
function xb(b,a){return b===a||b.normalize().toLowerCase()===a.normalize().toLowerCase()}function yb(b,a){return(a=b.ma.get(a.toLowerCase()))?a[0].P():b.ga()}function ob(b,a){a=a.toLowerCase();let c=b.ga();var d=b.ma.get(a);if(d&&d.length){c=d[0].P();for(let f=0,g=d.length;f<g;++f){var e=d[f];f+1===g?e.W(b.ga()):e.W(d[f+1].P())}}for(const f of zb(b,a))d=c,e=f.ea||f.G||f.H,e.disconnect(),e.connect(d);b.Ra&&b.ld===a&&(b.Ra.disconnect(),b.Ra.connect(c))}
function*zb(b,a){if(a)for(const c of b.I)xb(0<c.qa.length?c.qa[0]:"",a)&&(yield c);else b.T&&!b.T.R()&&(yield b.T)}function Ab(b,a,c){return c?b.l.If(a).then(d=>{const e=b.g.createBuffer(1,d.length,48E3);e.getChannelData(0).set(d);return e}):new Promise((d,e)=>{b.g.decodeAudioData(a,d,e)})}function Bb(b,a){let c=0;for(let d=0,e=b.I.length;d<e;++d){const f=b.I[d];b.I[c]=f;f.S===a?f.j():++c}b.I.length=c}
function*S(b,a){if(0<a.length)for(const d of b.I){a:{b=d.qa;var c=a;for(const e of c){c=!1;for(const f of b)if(xb(f,e)){c=!0;break}if(!c){b=!1;break a}}b=!0}b&&(yield d)}else b.T&&!b.T.R()&&(yield b.T)}async function eb(b,a,c,d,e,f){for(const g of b.I)if(g.tb()===c&&(g.Ac()||f))return g.qa=e,g;a=await P(b,a,c,d,f);e="html5"===a.Yc?new self.We(a.v,a,e):new self.Ye(a.v,a,e);b.I.push(e);return e}
function db(b,a){a=a.join(" ");let c=b.Pb.get(a);if(!c){let d=null;c={Dd:0,promise:new Promise(e=>d=e),resolve:d};b.Pb.set(a,c)}c.Dd++}function ib(b,a){return(b=b.Pb.get((0===a.length?b.ne:a).join(" ")))?b.promise:Promise.resolve()}function T(b){if(0<b.$a.size)v(b);else for(const a of b.I)if(!a.J&&!a.R()){v(b);break}}function Cb(b,a,c,d){m(b,"trigger",{type:a,tags:c,aiid:d})}function pb(b){b.hd||(b.hd=!0,Promise.resolve().then(()=>Db(b)))}
function Db(b){const a={};for(const [c,d]of b.ma)a[c]=d.map(e=>e.sb());m(b,"fxstate",{fxstate:a});b.hd=!1}
async function sb(b,a,c){if(3!==c){var d=a.bufferOriginalUrl,e=a.bufferUrl,f=a.bufferType,g=a.isMusic,h=a.tags,k=a.isLooping,l=a.volume,q=a.playbackTime;if(!g||1!==c)if(g||2!==c){c=null;try{c=await eb(b,d,e,f,h,g)}catch(r){console.error("[Construct] Audio: error loading audio state: ",r);return}b=c;(d=a.pan)?(Q(b,!0),e=b.G,f=d.pos,b.jb[0]=f[0],b.jb[1]=f[1],b.jb[2]=f[2],f=d.orient,b.ib[0]=f[0],b.ib[1]=f[1],b.ib[2]=f[2],e.setPosition(...b.jb),e.setOrientation(...b.ib),b.wa[0]=d.cia,b.wa[1]=d.coa,b.wa[2]=
d.cog,e.coneInnerAngle=d.cia,e.coneOuterAngle=d.coa,e.coneOuterGain=d.cog,b.ua=d.uid):Q(b,!1);b=c;d=a.stereoPan;"number"!==typeof d?R(b,!1):(R(b,!0),gb(b,d));c.Play(k,l,q,0);a.isPlaying||c.wb();c.Qc(a)}}}function ub(b){console.error("[Audio] Offline rendering error: ",b)}
self.rb=class extends self.Ga{constructor(b){super(b,"audio");this.ab=this.g=null;this.fc=this.dd=!1;this.Da=()=>{if(!this.dd){var a=this.g;"suspended"===a.state&&a.resume&&a.resume();var c=a.createBuffer(1,220,22050),d=a.createBufferSource();d.buffer=c;d.connect(a.destination);d.start(0);"running"===a.state&&this.fc&&(this.dd=!0,window.removeEventListener("pointerup",this.Da,!0),window.removeEventListener("touchend",this.Da,!0),window.removeEventListener("click",this.Da,!0),window.removeEventListener("keydown",
this.Da,!0),this.fc=!1)}};this.la=[];this.I=[];this.T=null;this.ne=[];this.pe=new Set;this.oe=-1;this.Pb=new Map;this.mc=1;this.Aa=!1;this.ud=0;this.wc=1;this.bd=0;this.re="HRTF";this.be="inverse";this.se=600;this.qe=1E4;this.ue=1;this.ba=[0,0,0];this.da=[0,0,-1,0,1,0];this.ie=this.rc=!1;this.xe=this.l.cf();this.ma=new Map;this.$a=new Set;this.je=this.hd=!1;this.ld="";this.Ra=null;self.C3Audio_OnMicrophoneStream=(a,c)=>{this.Ra&&this.Ra.disconnect();this.ld=c.toLowerCase();this.Ra=this.g.createMediaStreamSource(a);
this.Ra.connect(yb(this,this.ld))};this.dc=null;self.C3Audio_GetOutputStream=()=>{this.dc||(this.dc=this.g.createMediaStreamDestination(),this.ab.connect(this.dc));return this.dc.stream};self.C3Audio_DOMInterface=this;p(this,[["create-audio-context",a=>ab(this,a)],["play",a=>cb(this,a)],["stop",a=>{a=a.tags;for(const c of S(this,a))c.Ia()}],["stop-all",()=>{for(const a of this.I)a.Ia()}],["set-paused",a=>{const c=a.tags;a=a.paused;for(const d of S(this,c))a?d.wb():d.Wb();T(this)}],["set-volume",a=>
{const c=a.tags;a=a.vol;for(const d of S(this,c))U(d,a)}],["fade-volume",a=>hb(this,a)],["set-master-volume",a=>{this.mc=a.vol;this.ab.gain.value=this.mc}],["set-muted",a=>{const c=a.tags;a=a.isMuted;for(const d of S(this,c))Eb(d,a)}],["set-silent",a=>{this.Aa=a.isSilent;this.l.Xb(this.Aa);for(const c of this.I)c.bc()}],["set-looping",a=>{const c=a.tags;a=a.isLooping;for(const d of S(this,c))d.Jc(a)}],["set-playback-rate",a=>jb(this,a)],["set-stereo-pan",a=>{const c=a.tags;a=a.p;for(const d of S(this,
c))R(d,!0),gb(d,a)}],["seek",a=>kb(this,a)],["preload",a=>lb(this,a)],["unload",a=>mb(this,a)],["unload-all",()=>{for(const a of this.la)a.j();this.la.length=0}],["set-suspended",a=>{a=a.isSuspended;!a&&this.g.resume&&this.g.resume();for(const c of this.I)c.Kc(a);a&&this.g.suspend&&this.g.suspend()}],["add-effect",a=>nb(this,a)],["set-effect-param",a=>{var c=a.tags;const d=a.index,e=a.param,f=a.value,g=a.ramp;a=a.time;for(const h of c)c=this.ma.get(h.toLowerCase()),!c||0>d||d>=c.length||c[d].aa(e,
f,g,a);pb(this)}],["remove-effects",a=>{a=a.tags;for(const c of a){a=c.toLowerCase();const d=this.ma.get(a);if(!d||!d.length)break;for(const e of d)e.j();this.ma.delete(a);ob(this,a)}}],["tick",a=>{this.wc=a.timeScale;this.bd=a.gameTime;this.oe=a.tickCount;if(0!==this.ud)for(var c of this.I)c.La();!(c=a.listenerPos)||this.ba[0]===c[0]&&this.ba[1]===c[1]&&this.ba[2]===c[2]||(this.ba[0]=c[0],this.ba[1]=c[1],this.ba[2]=c[2],this.g.listener.setPosition(c[0],c[1],c[2]));if((c=a.listenerOrientation)&&(this.da[0]!==
c[0]||this.da[1]!==c[1]||this.da[2]!==c[2]||this.da[3]!==c[3]||this.da[4]!==c[4]||this.da[5]!==c[5])){for(let d=0;6>d;++d)this.da[d]=c[d];this.g.listener.setOrientation(...this.da)}for(const d of a.instPans){a=d.uid;for(const e of this.I)e.ua===a&&fb(e,d.x,d.y,d.z,d.angle)}}],["load-state",a=>qb(this,a)],["offline-render-audio",a=>tb(this,a)],["offline-render-finish",()=>{this.g.resume()}]])}X(){return this.g}ga(){return this.ab}GetAudioContextExtern(){return this.X()}GetDestinationNodeExtern(){return this.ga()}Vb(){return this.Aa}Ja(b){this.l.Ja(b)}Xa(b){this.l.Xa(b)}Ya(){for(var b of this.$a)b.Ya();
b=this.g.currentTime;for(var a of this.I)a.Ya(b);a=this.I.filter(c=>!c.J&&!c.R()).map(c=>c.sb());m(this,"state",{tickCount:this.oe,outputLatency:this.g.outputLatency||0,audioInstances:a,analysers:[...this.$a].map(c=>({tag:c.sd,index:c.ke,peak:c.kb,rms:c.te,binCount:c.m.frequencyBinCount,freqBins:c.ge}))});0===a.length&&0===this.$a.size&&this.hc&&(this.l.Wd(this.ye),this.hc=!1)}static jf(b){return b*$a}static Kd(b){return Math.max(Math.min(Math.pow(10,b/20),1),0)}static ff(b){return Math.log(Math.max(Math.min(b,
1),0))/Math.log(10)*20}};self.ia.Fa(self.rb);"use strict";function wb(b){b.kc||(b.kc=b.Pc());return b.kc}self.Hd=class{constructor(b,a,c,d,e){this.v=b;this.Pf=a;this.Ta=c;this.V=d;this.Lf=e;this.Yc="";this.kc=null}j(){this.kc=this.v=null}Pc(){}X(){return this.v.X()}Fc(){return this.Pf}tb(){return this.Ta}Dc(){return this.V}Ha(){return this.Lf}ha(){}};"use strict";
self.Ve=class extends self.Hd{constructor(b,a,c,d,e){super(b,a,c,d,e);this.Yc="html5";this.M=new Audio;this.M.crossOrigin="anonymous";this.M.autoplay=!1;this.M.preload="auto";this.Kb=this.Lb=null;this.M.addEventListener("canplaythrough",()=>!0);this.Ob=this.X().createGain();this.Nb=null;this.M.addEventListener("canplay",()=>{this.Lb&&(this.Lb(),this.Kb=this.Lb=null);!this.Nb&&this.M&&(this.Nb=this.X().createMediaElementSource(this.M),this.Nb.connect(this.Ob))});this.onended=null;this.M.addEventListener("ended",
()=>{if(this.onended)this.onended()});this.M.addEventListener("error",f=>{console.error(`[Construct] Audio '${this.Ta}' error: `,f);this.Kb&&(this.Kb(f),this.Kb=this.Lb=null)})}j(){Bb(this.v,this);this.Ob.disconnect();this.Ob=null;this.Nb.disconnect();this.Nb=null;this.M&&!this.M.paused&&this.M.pause();this.M=this.onended=null;super.j()}Pc(){return new Promise((b,a)=>{this.Lb=b;this.Kb=a;this.M.src=this.Ta})}Y(){return this.M}ha(){return this.M.duration}};"use strict";
async function Fb(b){if(b.Na)return b.Na;var a=b.v.l;if("cordova"===a.u&&a.Od(b.Ta)&&a.ic)b.Na=await a.Ub(b.Ta);else{a=await fetch(b.Ta);if(!a.ok)throw Error(`error fetching audio data: ${a.status} ${a.statusText}`);b.Na=await a.arrayBuffer()}}async function Gb(b){if(b.ka)return b.ka;b.ka=await Ab(b.v,b.Na,b.Of);b.Na=null}
self.Xe=class extends self.Hd{constructor(b,a,c,d,e,f){super(b,a,c,d,e);this.Yc="webaudio";this.ka=this.Na=null;this.Of=!!f}j(){Bb(this.v,this);this.ka=this.Na=null;super.j()}async Pc(){try{await Fb(this),await Gb(this)}catch(b){console.error(`[Construct] Failed to load audio '${this.Ta}': `,b)}}ha(){return this.ka?this.ka.duration:0}};"use strict";let Hb=0;
function Q(b,a){a=!!a;b.Hb!==a&&(b.Hb=a,b.Hb?(R(b,!1),b.G||(b.G=b.X().createPanner(),b.G.panningModel=b.v.re,b.G.distanceModel=b.v.be,b.G.refDistance=b.v.se,b.G.maxDistance=b.v.qe,b.G.rolloffFactor=b.v.ue),b.H.disconnect(),b.H.connect(b.G),b.G.connect(b.ga())):(b.G.disconnect(),b.H.disconnect(),b.H.connect(b.ga())))}
function R(b,a){a=!!a;b.jc!==a&&(b.jc=a,b.jc?(Q(b,!1),b.ea=b.X().createStereoPanner(),b.H.disconnect(),b.H.connect(b.ea),b.ea.connect(b.ga())):(b.ea.disconnect(),b.ea=null,b.H.disconnect(),b.H.connect(b.ga())))}function gb(b,a){b.jc&&b.rd!==a&&(b.ea.pan.value=a,b.rd=a)}function U(b,a){b.Ua=a;b.H.gain.cancelScheduledValues(0);b.eb=-1;b.H.gain.value=b.Gc()}function Eb(b,a){a=!!a;b.za!==a&&(b.za=a,b.bc())}
function fb(b,a,c,d,e){if(b.Hb){var f=b.jb,g=b.ib,h=Math.cos(e);e=Math.sin(e);if(f[0]!==a||f[1]!==c||f[2]!==d)f[0]=a,f[1]=c,f[2]=d,b.G.setPosition(...f);if(g[0]!==h||g[1]!==e||0!==g[2])g[0]=h,g[1]=e,g[2]=0,b.G.setOrientation(...g)}}function V(b){return b.jd?b.v.bd:performance.now()/1E3}
self.Id=class{constructor(b,a,c){this.v=b;this.S=a;this.qa=c;this.cc=Hb++;this.H=this.X().createGain();this.H.connect(this.ga());this.G=null;this.Hb=!1;this.jb=[0,0,0];this.ib=[0,0,0];this.wa=[0,0,0];this.ea=null;this.jc=!1;this.rd=0;this.J=!0;this.$=this.xa=this.K=!1;this.Ua=1;this.za=!1;this.oa=1;b=this.v.ud;this.jd=1===b&&!this.Ha()||2===b;this.eb=this.ua=-1;this.we=!1}j(){this.S=this.v=null;this.G&&(this.G.disconnect(),this.G=null);this.ea&&(this.ea.disconnect(),this.ea=null);this.H.disconnect();
this.H=null}X(){return this.v.X()}ga(){return yb(this.v,0<this.qa.length?this.qa[0]:"")}Fc(){return this.S.Fc()}tb(){return this.S.tb()}Dc(){return this.S.Dc()}Ha(){return this.S.Ha()}R(){}Ac(){}IsPlaying(){return!this.J&&!this.K&&!this.R()}Wa(){}ha(){return this.S.ha()}Play(){}Ia(){}wb(){}Wb(){}Ya(b){-1!==this.eb&&b>=this.eb&&(this.eb=-1,this.we&&this.Ia(),Cb(this.v,"fade-ended",this.qa,this.cc))}Gc(){const b=this.Ua;return isFinite(b)?b:0}Vb(){return this.v.Vb()}bc(){}Jc(){}La(){}Ic(){}Kc(){}Hc(){}sb(){var b=
this.cc,a=this.qa,c=this.ha(),d=-1===this.eb?this.Ua:this.H.gain.value,e=this.IsPlaying();if(this.G){var f=this.G;f={pos:this.jb,orient:this.ib,cia:f.coneInnerAngle,coa:f.coneOuterAngle,cog:f.coneOuterGain,uid:this.ua}}else f=null;return{aiid:b,tags:a,duration:c,volume:d,isPlaying:e,playbackTime:this.Wa(),playbackRate:this.oa,uid:this.ua,bufferOriginalUrl:this.Fc(),bufferUrl:"",bufferType:this.Dc(),isMusic:this.Ha(),isLooping:this.$,isMuted:this.za,resumePosition:this.Hc(),pan:f,stereoPan:this.ea?
this.rd:null}}Qc(b){var a=b.playbackRate;this.oa!==a&&(this.oa=a,this.La());Eb(this,b.isMuted)}};"use strict";
self.We=class extends self.Id{constructor(b,a,c){super(b,a,c);this.S.Ob.connect(this.H);this.S.onended=()=>this.Sc()}j(){this.Ia();this.S.Ob.disconnect();super.j()}Y(){return this.S.Y()}Sc(){this.J=!0;this.ua=-1;Cb(this.v,"ended",this.qa,this.cc)}R(){return this.Y().ended}Ac(){return this.J?!0:this.R()}Wa(){let b=this.Y().currentTime;this.$||(b=Math.min(b,this.ha()));return b}Play(b,a,c){const d=this.Y();1!==d.playbackRate&&(d.playbackRate=1);d.loop!==b&&(d.loop=b);U(this,a);this.za=!1;d.muted&&(d.muted=
!1);if(d.currentTime!==c)try{d.currentTime=c}catch(e){console.warn(`[Construct] Exception seeking audio '${this.S.tb()}' to position '${c}': `,e)}this.v.Ja(d);this.K=this.J=!1;this.$=b;this.oa=1}Ia(){const b=this.Y();b.paused||b.pause();this.v.Xa(b);this.J=!0;this.K=!1;this.ua=-1}wb(){if(!(this.K||this.J||this.R())){var b=this.Y();b.paused||b.pause();this.v.Xa(b);this.K=!0}}Wb(){!this.K||this.J||this.R()||(this.v.Ja(this.Y()),this.K=!1)}bc(){this.Y().muted=this.za||this.Vb()}Jc(b){b=!!b;this.$!==
b&&(this.$=b,this.Y().loop=b)}La(){let b=this.oa;this.jd&&(b*=this.v.wc);try{this.Y().playbackRate=b}catch(a){console.warn(`[Construct] Unable to set playback rate '${b}':`,a)}}Ic(b){if(!this.J&&!this.R())try{this.Y().currentTime=b}catch(a){console.warn(`[Construct] Error seeking audio to '${b}': `,a)}}Hc(){return this.Wa()}Kc(b){b?this.IsPlaying()?(this.Y().pause(),this.xa=!0):this.xa=!1:this.xa&&(this.v.Ja(this.Y()),this.xa=!1)}};"use strict";
function W(b){b.s&&(b.s.onended=null,b.s.disconnect(),b.s.buffer=null);b.s=null;b.yb=null}
self.Ye=class extends self.Id{constructor(b,a,c){super(b,a,c);this.s=null;this.oc=d=>this.Sc(d);this.cd=!0;this.yb=null;this.U=this.qc=this.sc=0;this.nd=1}j(){this.Ia();W(this);this.oc=null;super.j()}Sc(b){this.K||this.xa||b.target!==this.yb||(this.J=this.cd=!0,this.ua=-1,W(this),Cb(this.v,"ended",this.qa,this.cc))}R(){return!this.J&&this.s&&this.s.loop||this.K?!1:this.cd}Ac(){return!this.s||this.J?!0:this.R()}Wa(){let b;b=this.K?this.U:this.qc+(V(this)-this.sc)*this.oa;this.$||(b=Math.min(b,this.ha()));
return b}Play(b,a,c,d){this.za=!1;this.nd=1;U(this,a);W(this);this.s=this.X().createBufferSource();this.s.buffer=this.S.ka;this.s.connect(this.H);this.yb=this.s;this.s.onended=this.oc;this.s.loop=b;this.s.start(d,c);this.K=this.J=this.cd=!1;this.$=b;this.oa=1;this.sc=V(this);this.qc=c}Ia(){if(this.s)try{this.s.stop(0)}catch(b){}this.J=!0;this.K=!1;this.ua=-1}wb(){this.K||this.J||this.R()||(this.U=this.Wa(),this.$&&(this.U%=this.ha()),this.K=!0,this.s.stop(0))}Wb(){!this.K||this.J||this.R()||(W(this),
this.s=this.X().createBufferSource(),this.s.buffer=this.S.ka,this.s.connect(this.H),this.yb=this.s,this.s.onended=this.oc,this.s.loop=this.$,U(this,this.Ua),this.La(),this.s.start(0,this.U),this.sc=V(this),this.qc=this.U,this.K=!1)}Gc(){return super.Gc()*this.nd}bc(){this.nd=this.za||this.Vb()?0:1;U(this,this.Ua)}Jc(b){b=!!b;this.$!==b&&(this.$=b,this.s&&(this.s.loop=b))}La(){let b=this.oa;this.jd&&(b*=this.v.wc);this.s&&(this.s.playbackRate.value=b)}Ic(b){this.J||this.R()||(this.K?this.U=b:(this.wb(),
this.U=b,this.Wb()))}Hc(){return this.U}Kc(b){b?this.IsPlaying()?(this.xa=!0,this.U=this.Wa(),this.$&&(this.U%=this.ha()),this.s.stop(0)):this.xa=!1:this.xa&&(W(this),this.s=this.X().createBufferSource(),this.s.buffer=this.S.ka,this.s.connect(this.H),this.yb=this.s,this.s.onended=this.oc,this.s.loop=this.$,U(this,this.Ua),this.La(),this.s.start(0,this.U),this.sc=V(this),this.qc=this.U,this.xa=!1)}Qc(b){super.Qc(b);this.U=b.resumePosition}};"use strict";function X(b){return b.g.createGain()}
function Y(b,a,c,d,e){a.cancelScheduledValues(0);if(0===e)a.value=c;else switch(b=b.g.currentTime,e+=b,d){case 0:a.setValueAtTime(c,e);break;case 1:a.setValueAtTime(a.value,b);a.linearRampToValueAtTime(c,e);break;case 2:a.setValueAtTime(a.value,b),a.exponentialRampToValueAtTime(c,e)}}class Z{constructor(b){this.v=b;this.g=b.X();this.ke=-1;this.V=this.sd="";this.o=null}j(){this.g=null}P(){}W(){}sb(){return{type:this.V,tag:this.sd,params:this.o}}}
self.Oe=class extends Z{constructor(b,a,c,d,e,f,g){super(b);this.V="filter";this.o=[a,c,d,e,f,g];this.A=X(this);this.i=X(this);this.i.gain.value=g;this.h=X(this);this.h.gain.value=1-g;this.F=this.g.createBiquadFilter();this.F.type=a;this.F.frequency.value=c;this.F.detune.value=d;this.F.Q.value=e;this.F.gain.vlaue=f;this.A.connect(this.F);this.A.connect(this.h);this.F.connect(this.i)}j(){this.A.disconnect();this.F.disconnect();this.i.disconnect();this.h.disconnect();super.j()}W(b){this.i.disconnect();
this.i.connect(b);this.h.disconnect();this.h.connect(b)}P(){return this.A}aa(b,a,c,d){switch(b){case 0:a=Math.max(Math.min(a/100,1),0);this.o[5]=a;Y(this,this.i.gain,a,c,d);Y(this,this.h.gain,1-a,c,d);break;case 1:this.o[1]=a;Y(this,this.F.frequency,a,c,d);break;case 2:this.o[2]=a;Y(this,this.F.detune,a,c,d);break;case 3:this.o[3]=a;Y(this,this.F.Q,a,c,d);break;case 4:this.o[4]=a,Y(this,this.F.gain,a,c,d)}}};
self.Me=class extends Z{constructor(b,a,c,d){super(b);this.V="delay";this.o=[a,c,d];this.A=X(this);this.i=X(this);this.i.gain.value=d;this.h=X(this);this.h.gain.value=1-d;this.Mb=X(this);this.Z=this.g.createDelay(a);this.Z.delayTime.value=a;this.Eb=X(this);this.Eb.gain.value=c;this.A.connect(this.Mb);this.A.connect(this.h);this.Mb.connect(this.i);this.Mb.connect(this.Z);this.Z.connect(this.Eb);this.Eb.connect(this.Mb)}j(){this.A.disconnect();this.i.disconnect();this.h.disconnect();this.Mb.disconnect();
this.Z.disconnect();this.Eb.disconnect();super.j()}W(b){this.i.disconnect();this.i.connect(b);this.h.disconnect();this.h.connect(b)}P(){return this.A}aa(b,a,c,d){const e=self.rb.Kd;switch(b){case 0:a=Math.max(Math.min(a/100,1),0);this.o[2]=a;Y(this,this.i.gain,a,c,d);Y(this,this.h.gain,1-a,c,d);break;case 4:this.o[1]=e(a);Y(this,this.Eb.gain,e(a),c,d);break;case 5:this.o[0]=a,Y(this,this.Z.delayTime,a,c,d)}}};
self.Le=class extends Z{constructor(b,a,c,d){super(b);this.V="convolution";this.o=[c,d];this.ae=this.$d="";this.A=X(this);this.i=X(this);this.i.gain.value=d;this.h=X(this);this.h.gain.value=1-d;this.Db=this.g.createConvolver();this.Db.normalize=c;this.Db.buffer=a;this.A.connect(this.Db);this.A.connect(this.h);this.Db.connect(this.i)}j(){this.A.disconnect();this.Db.disconnect();this.i.disconnect();this.h.disconnect();super.j()}W(b){this.i.disconnect();this.i.connect(b);this.h.disconnect();this.h.connect(b)}P(){return this.A}aa(b,
a,c,d){switch(b){case 0:a=Math.max(Math.min(a/100,1),0),this.o[1]=a,Y(this,this.i.gain,a,c,d),Y(this,this.h.gain,1-a,c,d)}}sb(){const b=super.sb();b.bufferOriginalUrl=this.$d;b.bufferUrl="";b.bufferType=this.ae;return b}};
self.Pe=class extends Z{constructor(b,a,c,d,e,f){super(b);this.V="flanger";this.o=[a,c,d,e,f];this.A=X(this);this.h=X(this);this.h.gain.value=1-f/2;this.i=X(this);this.i.gain.value=f/2;this.Fb=X(this);this.Fb.gain.value=e;this.Z=this.g.createDelay(a+c);this.Z.delayTime.value=a;this.C=this.g.createOscillator();this.C.frequency.value=d;this.L=X(this);this.L.gain.value=c;this.A.connect(this.Z);this.A.connect(this.h);this.Z.connect(this.i);this.Z.connect(this.Fb);this.Fb.connect(this.Z);this.C.connect(this.L);
this.L.connect(this.Z.delayTime);this.C.start(0)}j(){this.C.stop(0);this.A.disconnect();this.Z.disconnect();this.C.disconnect();this.L.disconnect();this.h.disconnect();this.i.disconnect();this.Fb.disconnect();super.j()}W(b){this.i.disconnect();this.i.connect(b);this.h.disconnect();this.h.connect(b)}P(){return this.A}aa(b,a,c,d){switch(b){case 0:a=Math.max(Math.min(a/100,1),0);this.o[4]=a;Y(this,this.i.gain,a/2,c,d);Y(this,this.h.gain,1-a/2,c,d);break;case 6:this.o[1]=a/1E3;Y(this,this.L.gain,a/1E3,
c,d);break;case 7:this.o[2]=a;Y(this,this.C.frequency,a,c,d);break;case 8:this.o[3]=a/100,Y(this,this.Fb.gain,a/100,c,d)}}};
self.Re=class extends Z{constructor(b,a,c,d,e,f,g){super(b);this.V="phaser";this.o=[a,c,d,e,f,g];this.A=X(this);this.h=X(this);this.h.gain.value=1-g/2;this.i=X(this);this.i.gain.value=g/2;this.F=this.g.createBiquadFilter();this.F.type="allpass";this.F.frequency.value=a;this.F.detune.value=c;this.F.Q.value=d;this.C=this.g.createOscillator();this.C.frequency.value=f;this.L=X(this);this.L.gain.value=e;this.A.connect(this.F);this.A.connect(this.h);this.F.connect(this.i);this.C.connect(this.L);this.L.connect(this.F.frequency);
this.C.start(0)}j(){this.C.stop(0);this.A.disconnect();this.F.disconnect();this.C.disconnect();this.L.disconnect();this.h.disconnect();this.i.disconnect();super.j()}W(b){this.i.disconnect();this.i.connect(b);this.h.disconnect();this.h.connect(b)}P(){return this.A}aa(b,a,c,d){switch(b){case 0:a=Math.max(Math.min(a/100,1),0);this.o[5]=a;Y(this,this.i.gain,a/2,c,d);Y(this,this.h.gain,1-a/2,c,d);break;case 1:this.o[0]=a;Y(this,this.F.frequency,a,c,d);break;case 2:this.o[1]=a;Y(this,this.F.detune,a,c,
d);break;case 3:this.o[2]=a;Y(this,this.F.Q,a,c,d);break;case 6:this.o[3]=a;Y(this,this.L.gain,a,c,d);break;case 7:this.o[4]=a,Y(this,this.C.frequency,a,c,d)}}};self.Qe=class extends Z{constructor(b,a){super(b);this.V="gain";this.o=[a];this.m=X(this);this.m.gain.value=a}j(){this.m.disconnect();super.j()}W(b){this.m.disconnect();this.m.connect(b)}P(){return this.m}aa(b,a,c,d){const e=self.rb.Kd;switch(b){case 4:this.o[0]=e(a),Y(this,this.m.gain,e(a),c,d)}}};
self.Te=class extends Z{constructor(b,a){super(b);this.V="stereopan";this.o=[a];this.m=this.g.createStereoPanner();this.m.pan.value=a}j(){this.m.disconnect();super.j()}W(b){this.m.disconnect();this.m.connect(b)}P(){return this.m}aa(b,a,c,d){a=Math.min(Math.max(a/100,-1),1);switch(b){case 9:this.o[0]=a,Y(this,this.m.pan,a,c,d)}}};
self.Ue=class extends Z{constructor(b,a,c){super(b);this.V="tremolo";this.o=[a,c];this.m=X(this);this.m.gain.value=1-c/2;this.C=this.g.createOscillator();this.C.frequency.value=a;this.L=X(this);this.L.gain.value=c/2;this.C.connect(this.L);this.L.connect(this.m.gain);this.C.start(0)}j(){this.C.stop(0);this.C.disconnect();this.L.disconnect();this.m.disconnect();super.j()}W(b){this.m.disconnect();this.m.connect(b)}P(){return this.m}aa(b,a,c,d){switch(b){case 0:a=Math.max(Math.min(a/100,1),0);this.o[1]=
a;Y(this,this.m.gain,1-a/2,c,d);Y(this,this.L.gain,a/2,c,d);break;case 7:this.o[0]=a,Y(this,this.C.frequency,a,c,d)}}};
self.Se=class extends Z{constructor(b,a,c){super(b);this.V="ringmod";this.o=[a,c];this.A=X(this);this.i=X(this);this.i.gain.value=c;this.h=X(this);this.h.gain.value=1-c;this.Rb=X(this);this.Rb.gain.value=0;this.C=this.g.createOscillator();this.C.frequency.value=a;this.C.connect(this.Rb.gain);this.C.start(0);this.A.connect(this.Rb);this.A.connect(this.h);this.Rb.connect(this.i)}j(){this.C.stop(0);this.C.disconnect();this.Rb.disconnect();this.A.disconnect();this.i.disconnect();this.h.disconnect();super.j()}W(b){this.i.disconnect();
this.i.connect(b);this.h.disconnect();this.h.connect(b)}P(){return this.A}aa(b,a,c,d){switch(b){case 0:a=Math.max(Math.min(a/100,1),0);this.o[1]=a;Y(this,this.i.gain,a,c,d);Y(this,this.h.gain,1-a,c,d);break;case 7:this.o[0]=a,Y(this,this.C.frequency,a,c,d)}}};
self.Ne=class extends Z{constructor(b,a,c,d,e,f){super(b);this.V="distortion";this.o=[a,c,d,e,f];this.A=X(this);this.uc=X(this);this.tc=X(this);b=d;.01>b&&(b=.01);this.uc.gain.value=b;this.tc.gain.value=Math.pow(1/b,.6)*e;this.i=X(this);this.i.gain.value=f;this.h=X(this);this.h.gain.value=1-f;this.xc=this.g.createWaveShaper();this.Zc=new Float32Array(65536);for(e=0;32768>e;++e)f=e/32768,b=1.05*c*a-a,d=0>f?-f:f,d<a?b=d:(d=1-Math.exp(-(1/b)*(d-a)),b=a+b*d),f=b*(0>f?-1:1),this.Zc[32768+e]=f,this.Zc[32768-
e-1]=-f;this.xc.curve=this.Zc;this.A.connect(this.uc);this.A.connect(this.h);this.uc.connect(this.xc);this.xc.connect(this.tc);this.tc.connect(this.i)}j(){this.A.disconnect();this.uc.disconnect();this.xc.disconnect();this.tc.disconnect();this.i.disconnect();this.h.disconnect();super.j()}W(b){this.i.disconnect();this.i.connect(b);this.h.disconnect();this.h.connect(b)}P(){return this.A}aa(b,a,c,d){switch(b){case 0:a=Math.max(Math.min(a/100,1),0),this.o[4]=a,Y(this,this.i.gain,a,c,d),Y(this,this.h.gain,
1-a,c,d)}}};self.Ke=class extends Z{constructor(b,a,c,d,e,f){super(b);this.V="compressor";this.o=[a,c,d,e,f];this.m=this.g.createDynamicsCompressor();this.m.threshold.value=a;this.m.knee.value=c;this.m.ratio.value=d;this.m.attack.value=e;this.m.release.value=f}j(){this.m.disconnect();super.j()}W(b){this.m.disconnect();this.m.connect(b)}P(){return this.m}aa(){}};
self.Je=class extends Z{constructor(b,a,c){super(b);this.V="analyser";this.o=[a,c];this.m=this.g.createAnalyser();this.m.fftSize=a;this.m.smoothingTimeConstant=c;this.ge=new Float32Array(this.m.frequencyBinCount);this.ve=new Uint8Array(a);this.te=this.kb=0;b=this.v;b.$a.add(this);T(b)}j(){this.v.$a.delete(this);this.m.disconnect();super.j()}Ya(){this.m.getFloatFrequencyData(this.ge);this.m.getByteTimeDomainData(this.ve);const b=this.m.fftSize;let a=this.kb=0;for(var c=0;c<b;++c){let d=(this.ve[c]-
128)/128;0>d&&(d=-d);this.kb<d&&(this.kb=d);a+=d*d}c=self.rb.ff;this.kb=c(this.kb);this.te=c(Math.sqrt(a/b))}W(b){this.m.disconnect();this.m.connect(b)}P(){return this.m}aa(){}};"use strict";function Ib(){}function Jb(b){window.C3_RegisterSW&&window.OfflineClientInfo&&window.OfflineClientInfo.SetMessageCallback(a=>m(b,"sw-message",a.data))}
function Kb(b){b=b.orientation;if(screen.orientation&&screen.orientation.lock)screen.orientation.lock(b).catch(a=>console.warn("[Construct] Failed to lock orientation: ",a));else try{let a=!1;screen.lockOrientation?a=screen.lockOrientation(b):screen.webkitLockOrientation?a=screen.webkitLockOrientation(b):screen.mozLockOrientation?a=screen.mozLockOrientation(b):screen.msLockOrientation&&(a=screen.msLockOrientation(b));a||console.warn("[Construct] Failed to lock orientation")}catch(a){console.warn("[Construct] Failed to lock orientation: ",
a)}}
self.ia.Fa(class extends self.Ga{constructor(b){super(b,"browser");this.u="";p(this,[["get-initial-state",a=>this.Tc(a)],["ready-for-sw-messages",()=>Jb(this)],["alert",a=>this.Rc(a)],["close",()=>{navigator.app&&navigator.app.exitApp?navigator.app.exitApp():navigator.device&&navigator.device.exitApp?navigator.device.exitApp():window.close()}],["set-focus",a=>this.Uc(a)],["vibrate",a=>{navigator.vibrate&&navigator.vibrate(a.pattern)}],["lock-orientation",a=>Kb(a)],["unlock-orientation",()=>{try{screen.orientation&&screen.orientation.unlock?
screen.orientation.unlock():screen.unlockOrientation?screen.unlockOrientation():screen.webkitUnlockOrientation?screen.webkitUnlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()}catch(a){}}],["navigate",a=>{var c=a.type;if("back"===c)navigator.app&&navigator.app.backHistory?navigator.app.backHistory():window.history.back();else if("forward"===c)window.history.forward();else if("reload"===c)location.reload();else if("url"===
c){c=a.url;const d=a.target;a=a.exportType;self.cordova&&self.cordova.InAppBrowser?self.cordova.InAppBrowser.open(c,"_system"):"preview"===a||this.l.ra()?window.open(c,"_blank"):this.Fg||(2===d?window.top.location=c:1===d?window.parent.location=c:window.location=c)}else"new-window"===c&&(c=a.url,a=a.tag,self.cordova&&self.cordova.InAppBrowser?self.cordova.InAppBrowser.open(c,"_system"):window.open(c,a))}],["request-fullscreen",a=>{if(this.l.ra()||"macos-wkwebview"===this.u)self.ia.ac(!0),this.l.Ka({type:"set-fullscreen",
fullscreen:!0});else{const c={navigationUI:"auto"};a=a.navUI;1===a?c.navigationUI="hide":2===a&&(c.navigationUI="show");a=document.documentElement;let d;a.requestFullscreen?d=a.requestFullscreen(c):a.mozRequestFullScreen?d=a.mozRequestFullScreen(c):a.msRequestFullscreen?d=a.msRequestFullscreen(c):a.webkitRequestFullScreen&&(d="undefined"!==typeof Element.ALLOW_KEYBOARD_INPUT?a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):a.webkitRequestFullScreen());d instanceof Promise&&d.catch(Ib)}}],["exit-fullscreen",
()=>{if(this.l.ra()||"macos-wkwebview"===this.u)self.ia.ac(!1),this.l.Ka({type:"set-fullscreen",fullscreen:!1});else{let a;document.exitFullscreen?a=document.exitFullscreen():document.mozCancelFullScreen?a=document.mozCancelFullScreen():document.msExitFullscreen?a=document.msExitFullscreen():document.webkitCancelFullScreen&&(a=document.webkitCancelFullScreen());a instanceof Promise&&a.catch(Ib)}}],["set-hash",a=>{location.hash=a.hash}],["set-document-css-style",a=>{const c=a.prop,d=a.value;var e=
a.selector;a=a["is-all"];try{if(e)if(a)var f=Array.from(document.querySelectorAll(e));else{var g=document.querySelector(e);f=g?[g]:[]}else f=[document.documentElement];e=f;for(const h of e)c.startsWith("--")?h.style.setProperty(c,d):h.style[c]=d}catch(h){console.warn("[Browser] Failed to set style: ",h)}}],["get-document-css-style",a=>{{const d=a.prop;a=a.selector;try{const e=document.querySelector(a);var c=e?{isOk:!0,result:window.getComputedStyle(e).getPropertyValue(d)}:{isOk:!1}}catch(e){console.warn("[Browser] Failed to get style: ",
e),c={isOk:!1}}}return c}],["set-window-size",a=>{window.resizeTo(a.windowWidth,a.windowHeight)}],["set-window-position",a=>{window.moveTo(a.windowX,a.windowY)}]]);window.addEventListener("online",()=>{m(this,"online-state",{isOnline:!0})});window.addEventListener("offline",()=>{m(this,"online-state",{isOnline:!1})});window.addEventListener("hashchange",()=>{m(this,"hashchange",{location:location.toString()})});document.addEventListener("backbutton",()=>{m(this,"backbutton")})}Tc(b){this.u=b.exportType;
return{location:location.toString(),isOnline:!!navigator.onLine,referrer:document.referrer,title:document.title,isCookieEnabled:!!navigator.cookieEnabled,screenWidth:screen.width,screenHeight:screen.height,windowOuterWidth:window.outerWidth,windowOuterHeight:window.outerHeight,isConstructArcade:"undefined"!==typeof window.is_scirra_arcade}}Rc(b){alert(b.message)}Uc(b){b=b.isFocus;if("nwjs"===this.u){const a="nwjs"===this.u?nw.Window.get():null;b?a.focus():a.blur()}else b?window.focus():window.blur()}});
"use strict";function Lb(b){return new Promise((a,c)=>{b.getInsetTop(a,c)})}function Mb(b){return new Promise((a,c)=>{b.getInsetRight(a,c)})}function Nb(b){return new Promise((a,c)=>{b.getInsetBottom(a,c)})}function Ob(b){return new Promise((a,c)=>{b.getInsetLeft(a,c)})}
async function Pb(b){if(!b.Sa)try{b.Sa=await navigator.wakeLock.request("screen"),b.Sa.addEventListener("release",()=>{console.log("[Construct] Screen wake lock released");b.Sa=null;m(b,"wake-lock-released")}),console.log("[Construct] Screen wake lock acquired"),m(b,"wake-lock-acquired")}catch(a){console.warn("[Construct] Failed to acquire screen wake lock: ",a),m(b,"wake-lock-error")}}
async function Qb(b){const a=await Rb();m(b,"window-resize",{windowOuterWidth:window.outerWidth,windowOuterHeight:window.outerHeight,safeAreaInset:a})}
async function Rb(){var b=self.AndroidNotch;if(b)try{return await Promise.all([Lb(b),Mb(b),Nb(b),Ob(b)])}catch(c){return console.error("[Construct] Failed to get Android safe area inset: ",c),[0,0,0,0]}else{var a=document.body;b=a.style;b.setProperty("--temp-sai-top","env(safe-area-inset-top)");b.setProperty("--temp-sai-right","env(safe-area-inset-right)");b.setProperty("--temp-sai-bottom","env(safe-area-inset-bottom)");b.setProperty("--temp-sai-left","env(safe-area-inset-left)");a=getComputedStyle(a);
a=[a.getPropertyValue("--temp-sai-top"),a.getPropertyValue("--temp-sai-right"),a.getPropertyValue("--temp-sai-bottom"),a.getPropertyValue("--temp-sai-left")].map(c=>{c=parseInt(c,10);return isFinite(c)?c:0});b.removeProperty("--temp-sai-top");b.removeProperty("--temp-sai-right");b.removeProperty("--temp-sai-bottom");b.removeProperty("--temp-sai-left");return a}}
self.ia.Fa(class extends self.Ga{constructor(b){super(b,"platform-info");p(this,[["get-initial-state",()=>this.Tc()],["request-wake-lock",()=>Pb(this)],["release-wake-lock",()=>{this.Sa&&(this.Sa.release(),this.Sa=null)}]]);window.addEventListener("resize",()=>Qb(this));this.Sa=null}async Tc(){const b=await Rb();return{screenWidth:screen.width,screenHeight:screen.height,windowOuterWidth:window.outerWidth,windowOuterHeight:window.outerHeight,safeAreaInset:b,supportsWakeLock:!!navigator.wakeLock,isNwjs:"undefined"!==
typeof nw}}});"use strict";async function Sb(){try{return{isOk:!0,isPersistent:await navigator.storage.persist()}}catch(b){return console.error("[Construct] Error requesting persistent storage: ",b),{isOk:!1}}}self.ia.Fa(class extends self.Ga{constructor(b){super(b,"localstorage");p(this,[["init",()=>this.Yb()],["request-persistent",()=>Sb()]])}async Yb(){let b=!1;try{b=await navigator.storage.persisted()}catch(a){b=!1,console.warn("[Construct] Error checking storage persisted state: ",a)}return{isPersistent:b}}});
(()=>{var b=window||b;b.$e=class{constructor(a,c){var [d,e,f]=c.backgroundColor,[g,h,k]=c.Ee;this.Ed=a;this.Fd=192;this.D="MixonGames_EasyInGameConsole";this.qb=c.enable;this.backgroundColor=c.backgroundColor;this.Vf=255*d;this.Uf=255*e;this.Tf=255*f;this.Ee=c.Ee;this.Ie=255*g;this.He=255*h;this.Ge=255*k;this.font=c.font;this.size=c.size;this.Fe=c.Fe;this.height=100*c.height;this.padding=8;this.Bd=!1;this.Oa={};this.Rf=["help","clear"];this.Jf=[37,38,39,40];this.$f();this.Zf()}$f(){let a=document.createElement("style");
a.innerHTML=`
        #${this.D}, #${this.D} * {
          box-sizing: border-box;
        }
  
        #${this.D}__overlay {
          background: transparent;
          width: 100%;
          height: 100%;
          position: absolute;
          top: 0;
          left: 0;
          transform: translateY(-100%);
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
          transition: transform 0.3s cubic-bezier(.36,-0.29,.69,1.26);
          overflow: hidden;
          z-index: 9999;
        }
  
        #${this.D}__overlay.open {
          transform: translateY(0);
        }
  
        #${this.D} {
          background-color: rgb(${this.Vf}, ${this.Uf}, ${this.Tf});
          opacity: ${this.Fe};
          width: 100%;
          height: ${this.height}%;
          position: absolute;
          top: 0;
          left: 0;
          z-index: 9999;
          color: rgb(${this.Ie}, ${this.He}, ${this.Ge});
          font-size: ${this.size}px;
          font-family: ${this.font};
          line-height: ${this.size+this.size/2}px;
          overflow: hidden;
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
        }
  
        #${this.D} #${this.D}__log {
          width: 100%;
          height: calc(100% - ${this.size+2*this.padding}px);
          padding: ${this.padding}px;
          white-space: pre;
          overflow-y: auto;
          border-bottom: 1px solid rgba(255,255,255, 0.3);
          -webkit-user-select: none;  
          -moz-user-select: none;    
          -ms-user-select: none;      
          user-select: none;
        }
  
        #${this.D} #${this.D}__wrapper {
          position: relative;
          display: inline-block;
          width: auto;
          min-height: ${this.size+this.padding}px;
          border: 0;
          margin: 0;
          padding: ${this.padding/2}px ${this.padding}px;
          color: rgb(${this.Ie}, ${this.He}, ${this.Ge});
          font-size: ${this.size}px;
          font-family: ${this.font};
        }
  
        #${this.D} #${this.D}__wrapper:before {
          content: '> ';
          top: 0;
        }
  
        #${this.D} #${this.D}__input {
          white-space: pre;
          -webkit-user-select: none;  
          -moz-user-select: none;    
          -ms-user-select: none;      
          user-select: none;
        }
  
        #${this.D} #${this.D}__input:after {
          content: '_';
          animation: PulseAttention 1s cubic-bezier(.29, .3, .64, 1.36) forwards infinite;
        }
  
        @keyframes PulseAttention {
          50% {
              opacity: 0;
          }
        }
  
        #${this.D} #${this.D}__hidden {
          position: absolute;
          bottom: 0;
          left: 0;
          opacity: 0;
        }
      `;document.head.appendChild(a)}Zf(){this.hb=document.createElement("div");this.hb.id=this.D+"__overlay";document.body.appendChild(this.hb);this.Cb=document.createElement("div");this.Cb.id=this.D;this.hb.appendChild(this.Cb);this.Qa=document.createElement("div");this.Qa.id=this.D+"__log";this.Cb.appendChild(this.Qa);this.wd=document.createElement("div");this.wd.id=this.D+"__wrapper";this.Cb.appendChild(this.wd);this.Gb=document.createElement("span");this.Gb.id=this.D+"__input";this.wd.appendChild(this.Gb);
this.Gb.innerText="";this.O=document.createElement("input");this.O.id=this.D+"__hidden";this.Cb.appendChild(this.O);this.O.value=""}rg(){try{this.hb.onclick=a=>this.Yf(a),this.O.oninput=a=>this.yg(a),this.O.onkeydown=a=>this.kg(a),this.O.onkeyup=a=>this.ig(a),this.O.onfocus=()=>{},this.O.onblur=()=>{},document.onkeyup=a=>this.toggle(a)}catch(a){console.error(a)}}Yf(a){return this.focus(),a.preventDefault(),a.stopPropagation(),!1}focus(){this.O.disabled=!1;this.O.focus()}blur(){this.O.blur();this.O.disabled=
!0}yg(a){this.Gb.innerText=a.target.value}ig(a){""!==this.O.value&&13===a.keyCode&&(a.preventDefault(),this.sg(this.O.value),this.O.value="",this.Gb.innerText=this.O.value,this.Qa.scrollTop=this.Qa.scrollHeight)}kg(a){a.keyCode!==this.Fd&&!this.Jf.includes(a.keyCode)||a.preventDefault()}open(){this.qb&&(this.Bd=!0,this.focus(),this.hb.classList.add("open"),this.Ed("GC_ON_OPEN",this.D))}close(){this.qb&&(this.Bd=!1,this.blur(),this.hb.classList.remove("open"),this.Ed("GC_ON_CLOSE",this.D))}toggle(a){this.qb&&
a.keyCode===this.Fd&&(a.preventDefault(),this.Bd?this.close():this.open())}sg(a){var {yd:c,Va:d}=this.pg(a);if(this.zd(c)||this.Rf.includes(c))switch(c){case "help":this.lg(c,d);break;case "clear":this.clear();break;default:this.xg(c,d)}else this.print("> "+c),this.Ce(c,d)}Ce(a,c){this.print(`command not found: ${a}  `+(c&&0<c.length?c.join(" "):""))}print(a){this.qb&&(this.Qa.innerHTML+=a+"\n")}lg(a,c){var [d]=c;if(this.print(`> ${a} `+(d||"")),0<c.length)if(this.zd(d)&&!this.Oa[d].Ad){const {Va:e,
description:f}=this.Oa[d];this.print(`${d} - ${e.join(", ")} - `+f)}else this.Ce(d);else for(const [e,{Va:f,description:g,Ad:h}]of Object.entries(this.Oa))h||this.print(e+" - "+(0<f.length?f.map(k=>`[${k}]`).join(", ")+" - ":"")+g)}qg(a,c,d,e){this.zd(a)||"help"===a||(c=""!==c?c.split(",").map(f=>f.trim()):[],this.Oa[a]={Va:c,description:d,Ad:e})}zd(a){return this.Oa.hasOwnProperty(a)}pg(a){var [a,...c]=a.split(" ");return{yd:a,Va:c}}clear(){this.Qa.innerHTML=""}xg(a,c){const d={};for(var e=0;e<this.Oa[a].Va.length;e++)d[this.Oa[a].Va[e]]=
c[e];this.print(`> ${a} `+(c&&0<c.length?c.join(" "):""));c={};c.yd=a;c.Gg=d;this.Ed("GC_TRIGGER",this.D,c)}Xf(a){this.Fd=a}enable(){this.qb=!0}disable(){this.qb=!1}}})();
(()=>{class b extends self.Cc{constructor(a){super(a);p(this,[["GC_INIT",c=>this.init(c)],["GC_OPEN",()=>this.fg()],["GC_CLOSE",()=>this.cg()],["GC_PRINT",c=>this.gg(c)],["GC_REGISTER_COMMAND",c=>this.hg(c)],["GC_CLEAR",()=>this.bg()],["GC_KEY",c=>this.ag(c)],["GC_ENABLE",()=>this.eg()],["GC_DISABLE",()=>this.dg()]])}init(a){var c=this.gf.bind(this);this.De=a.De;this.ta=new window.$e(c,a.De);this.ta.rg()}fg(){this.ta.open()}cg(){this.ta.close()}gg(a){this.ta.print(a.text)}hg(a){this.ta.qg(a.yd,a.Va,
a.description,a.Ad)}bg(){this.ta.clear()}ag(a){this.ta.Xf(a.key)}eg(){this.ta.enable()}dg(){this.ta.disable()}}self.ia.Fa(b)})();
